(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[11],{211:function(n,e,t){"use strict";t.r(e),t.d(e,"default",function(){return V});var a,i=t(5),c=t(1),s=t.n(c),l=t(11),r=t(22),o=t(4),d=t(43),h=t(6),u=t(10),v=t(191),b=t(19),j=t(188),m=t(42),p=t(189),w=t(2);const x=o.d.div(a||(a=Object(i.a)(["\n  min-height: 100vh;\n  min-width: 100vw;\n  max-height: 100vh;\n  max-width: 100vw;\n  scroll-snap-align: start;\n  scroll-snap-stop: always;\n\n  display: grid;\n\n  img,\n  video {\n    max-height: 100vh;\n    max-width: 100vw;\n    z-index: ",";\n  }\n\n  .overlay {\n    z-index: ",";\n  }\n\n  img,\n  video,\n  .overlay {\n    grid-area: 1/1/2/2;\n  }\n"])),m.a.POST,m.a.OVERLAY);function O(n){const{index:e,onInView:t,onFinished:a,onBack:i,active:c=!1}=n,[r,o]=s.a.useState(null),[d]=Object(j.a)(r),{type:h,preview_url:v,sample_url:m,file_url:O,width:f,height:g}=Object(l.c)(Object(u.u)(e));return s.a.useEffect(()=>{c&&r&&r.scrollIntoView()},[c,r]),s.a.useEffect(()=>{t&&d&&t(e)},[e,d,t]),Object(w.jsx)(x,{id:"story-".concat(e),ref:o,children:Object(w.jsx)(p.a,{type:h,index:e,thumbnailSrc:v,sampleSrc:m,fullSrc:O,onLoad:b.b,width:f,height:g,detailsVisible:!1,isFullscreen:!0,onFinished:a,onBack:i,isActive:d})})}var f,g,y;const k=o.d.div(f||(f=Object(i.a)(["\n  height: 100vh;\n  width: 100vw;\n  overflow: scroll;\n  scroll-snap-type: y mandatory;\n  scroll-snap-stop: always;\n\n  ::-webkit-scrollbar {\n    height: 0px;\n    width: 0px;\n  }\n"]))),E=o.d.div(n=>{let{index:e}=n;return Object(o.c)(g||(g=Object(i.a)(["\n    height: ","00vh;\n  "])),Math.max(e-1,0))}),I=o.d.div(y||(y=Object(i.a)(["\n  min-height: 100vh;\n  min-width: 100vw;\n  max-height: 100vh;\n  max-width: 100vw;\n\n  scroll-snap-align: start;\n  scroll-snap-stop: always;\n\n  display: grid;\n  place-content: center;\n\n  @media (pointer: fine) {\n    ::-webkit-scrollbar {\n      height: 0px;\n      width: 0px;\n    }\n  }\n"])));function V(){const n=Object(l.b)(),e=Object(r.f)(),[t,a]=s.a.useState(null),i=Object(l.c)(u.k),c=Object(l.c)(u.j),o=i+1,b=i-1,j=[b,i,o],m=s.a.useCallback(e=>n(Object(h.M)(e)),[n]),p=s.a.useCallback(()=>{var n;null===(n=document.getElementById("story-".concat(b)))||void 0===n||n.scrollIntoView({behavior:"smooth"})},[b]),x=s.a.useCallback(()=>{var n;null===(n=document.getElementById("story-".concat(o)))||void 0===n||n.scrollIntoView({behavior:"smooth"})},[o]);return s.a.useEffect(()=>{const n=()=>{document.fullscreenElement||e.goBack()};return document.addEventListener("fullscreenchange",n,{passive:!0}),()=>{document.removeEventListener("fullscreenchange",n)}},[e]),s.a.useEffect(()=>{t&&Object(d.a)(t)},[t]),Object(w.jsxs)(k,{ref:a,children:[Object(w.jsx)(E,{index:i}),j.map(n=>n<0?null:n>=c?Object(w.jsx)(I,{children:Object(w.jsx)(v.a,{})},n):n<i||n>i?Object(w.jsx)(O,{index:n,onInView:m},n):Object(w.jsx)(O,{index:n,onFinished:x,onBack:p,active:!0},n))]})}}}]);
//# sourceMappingURL=11.a0857191.chunk.js.map