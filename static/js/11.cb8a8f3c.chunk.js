(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[11],{231:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return B}));var i,c,a,r,l=t(10),o=t(5),s=t(1),d=t.n(s),h=t(14),u=t(27),v=t(4),b=t(51),f=t(6),j=t(13),m=t(209),p=t(25),w=t(206),x=t(50),O=t(207),g=t(2),y=v.d.div(i||(i=Object(o.a)(["\n  min-height: 100vh;\n  min-width: 100vw;\n  max-height: 100vh;\n  max-width: 100vw;\n  scroll-snap-align: start;\n  scroll-snap-stop: always;\n\n  display: grid;\n\n  img,\n  video {\n    max-height: 100vh;\n    max-width: 100vw;\n    z-index: ",";\n  }\n\n  .overlay {\n    z-index: ",";\n  }\n\n  img,\n  video,\n  .overlay {\n    grid-area: 1/1/2/2;\n  }\n"])),x.a.POST,x.a.OVERLAY);function k(n){var e=n.index,t=n.onInView,i=n.onFinished,c=n.onBack,a=n.active,r=void 0!==a&&a,o=d.a.useState(null),s=Object(l.a)(o,2),u=s[0],v=s[1],b=Object(w.a)(u),f=Object(l.a)(b,1)[0],m=Object(h.c)(Object(j.u)(e)),x=m.type,k=m.preview_url,E=m.sample_url,I=m.file_url,V=m.width,B=m.height;return d.a.useEffect((function(){r&&u&&u.scrollIntoView()}),[r,u]),d.a.useEffect((function(){t&&f&&t(e)}),[e,f,t]),Object(g.jsx)(y,{id:"story-".concat(e),ref:v,children:Object(g.jsx)(O.a,{type:x,index:e,thumbnailSrc:k,sampleSrc:E,fullSrc:I,onLoad:p.b,width:V,height:B,detailsVisible:!1,isFullscreen:!0,onFinished:i,onBack:c,isActive:f})})}var E=v.d.div(c||(c=Object(o.a)(["\n  height: 100vh;\n  width: 100vw;\n  overflow: scroll;\n  scroll-snap-type: y mandatory;\n  scroll-snap-stop: always;\n\n  ::-webkit-scrollbar {\n    height: 0px;\n    width: 0px;\n  }\n"]))),I=v.d.div((function(n){var e=n.index;return Object(v.c)(a||(a=Object(o.a)(["\n    height: ","00vh;\n  "])),Math.max(e-1,0))})),V=v.d.div(r||(r=Object(o.a)(["\n  min-height: 100vh;\n  min-width: 100vw;\n  max-height: 100vh;\n  max-width: 100vw;\n\n  scroll-snap-align: start;\n  scroll-snap-stop: always;\n\n  display: grid;\n  place-content: center;\n\n  @media (pointer: fine) {\n    ::-webkit-scrollbar {\n      height: 0px;\n      width: 0px;\n    }\n  }\n"])));function B(){var n=Object(h.b)(),e=Object(u.f)(),t=d.a.useState(null),i=Object(l.a)(t,2),c=i[0],a=i[1],r=Object(h.c)(j.k),o=Object(h.c)(j.j),s=r+1,v=r-1,p=[v,r,s],w=d.a.useCallback((function(e){return n(Object(f.N)(e))}),[n]),x=d.a.useCallback((function(){var n;null===(n=document.getElementById("story-".concat(v)))||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[v]),O=d.a.useCallback((function(){var n;null===(n=document.getElementById("story-".concat(s)))||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[s]);return d.a.useEffect((function(){var n=function(){document.fullscreenElement||e.goBack()};return document.addEventListener("fullscreenchange",n,{passive:!0}),function(){document.removeEventListener("fullscreenchange",n)}}),[e]),d.a.useEffect((function(){c&&Object(b.a)(c)}),[c]),Object(g.jsxs)(E,{ref:a,children:[Object(g.jsx)(I,{index:r}),p.map((function(n){return n<0?null:n>=o?Object(g.jsx)(V,{children:Object(g.jsx)(m.a,{})},n):n<r||n>r?Object(g.jsx)(k,{index:n,onInView:w},n):Object(g.jsx)(k,{index:n,onFinished:O,onBack:x,active:!0},n)}))]})}}}]);
//# sourceMappingURL=11.cb8a8f3c.chunk.js.map