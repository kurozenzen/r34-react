(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[9],{192:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var c=n(10),r=n(45),a=(n(87),n(1));function i(){var t=Object(a.useState)(!1),e=Object(c.a)(t,2),n=e[0],i=e[1],o=Object(a.useState)(null),u=Object(c.a)(o,2),s=u[0],d=u[1];return Object(a.useEffect)((function(){try{var t=r.a.auth().onAuthStateChanged((function(t){t?(i(!0),d(t)):(i(!1),d(null))}));return function(){t()}}catch(e){i(!1),d(null)}}),[]),[n,s]}},193:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var c=n(1),r=n.n(c);function a(t){r.a.useEffect((function(){document.title=t}),[t])}},200:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var c=n(10),r=n(1),a=n.n(r),i=n(207),o=n(192),u=n(7),s=n.n(u),d=n(14);function l(){return(l=Object(d.a)(s.a.mark((function t(e){var n,c,r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new TextEncoder).encode(e),t.next=3,crypto.subtle.digest("SHA-256",n);case 3:return c=t.sent,r=Array.from(new Uint8Array(c)),a=r.map((function(t){return t.toString(16).padStart(2,"0")})).join(""),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){var t=a.a.useState({}),e=Object(c.a)(t,2),n=e[0],r=e[1],u=a.a.useState(),s=Object(c.a)(u,2),d=s[0],b=s[1],f=Object(o.a)(),j=Object(c.a)(f,2)[1];return a.a.useEffect((function(){(null===j||void 0===j?void 0:j.email)&&function(t){return l.apply(this,arguments)}(j.email).then((function(t){var e=i.a.firestore().collection("users/".concat(t,"/supertags"));return b(e),e.get()})).then((function(t){var e=t.docs.reduce((function(t,e){return t[e.id]=e.data(),t}),{});r(e)})).catch((function(t){console.error("Error with useSupertags",t)}))}),[null===j||void 0===j?void 0:j.email]),a.a.useEffect((function(){if(d){var t=d.onSnapshot((function(t){var e=t.docs.reduce((function(t,e){return t[e.id]=e.data(),t}),{});r(e)}));return function(){t()}}}),[d]),n}},225:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return D}));var c,r,a,i,o,u,s,d,l=n(10),b=n(5),f=n(1),j=n.n(f),O=n(26),p=n(4),h=n(20),g=n(39),m=n(193),v=n(23),x=n(29),w=n(86),k=n(60),S=n(47),y=n(95),C=n(96),E=n(24),T=n(19),A=n(30),I=n(192),M=n(200),R=n(2),F=Object(p.d)(w.b)(c||(c=Object(b.a)(["\n  place-content: center;\n  align-items: center;\n  place-content: center;\n  flex-grow: 1;\n"]))),H=Object(p.d)(k.b)((function(t){var e=t.theme;return Object(p.c)(r||(r=Object(b.a)(["\n    grid-template-rows: auto auto auto 1fr;\n    grid-template-columns: 1fr auto;\n    padding: ",";\n    justify-content: center;\n    max-width: ",";\n  "])),e.dimensions.hugeSpacing,e.dimensions.modalWidth)})),J=Object(p.d)(S.d)(a||(a=Object(b.a)(["\n  text-align: left;\n  grid-area: 1/1/2/2;\n"]))),Y=Object(p.d)(S.b)(i||(i=Object(b.a)(["\n  grid-area: 2/1/3/3;\n"]))),q=Object(p.d)(x.f)(o||(o=Object(b.a)(["\n  grid-area: 1/2/2/3;\n"]))),z=Object(p.d)(S.b)(u||(u=Object(b.a)(["\n  overflow-x: auto;\n  white-space: nowrap;\n  mask-image: linear-gradient(90deg, #000 95%, transparent);\n  ::-webkit-scrollbar {\n    height: 0px;\n  }\n"]))),U=p.d.span((function(t){var e=t.theme;return Object(p.c)(s||(s=Object(b.a)(["\n    ","\n    ","\n    padding: ",";\n    color: ",";\n    grid-area: 3/1/4/3;\n    cursor: pointer;\n\n    :active,\n    :active > span {\n      color: ",";\n    }\n  "])),T.f,A.e,e.dimensions.bigSpacing,e.colors.subduedText,e.colors.accentColor)})),W=Object(p.d)(C.a)(d||(d=Object(b.a)(["\n  grid-area: 4/1/5/3;\n"]))),B=function(t){};function D(){var t=Object(O.g)(),e=Object(h.b)(t.search),n=e.name,c=e.description,r=e.tags;Object(m.a)("Rule34 React - ".concat(n));var a=j.a.useMemo((function(){return Object.entries(r).reduce((function(t,e){var n=Object(l.a)(e,2),c=n[0],r=n[1];return t[c]={name:c,modifier:r,types:[]},t}),{})}),[r]),i=j.a.useCallback((function(){navigator.permissions.query({name:"clipboard-write"}).then((function(t){"granted"!==t.state&&"prompt"!==t.state||navigator.clipboard.writeText(window.location.href).then((function(){}),(function(){console.warn("Failed to write to clipboard")}))}))}),[]),o=Object(I.a)(),u=Object(l.a)(o,1)[0],s=Object(M.a)(),d=j.a.useCallback((function(){Object(g.a)(n,c,r).then((function(){})).catch((function(t){return console.error("Failed to import supertag",t)}))}),[c,n,r]),b=j.a.useCallback((function(){return Object(g.f)(n)}),[n]),f=j.a.useMemo((function(){return u&&n in s}),[n,u,s]);return Object(R.jsxs)(w.a,{children:[Object(R.jsx)(y.a,{}),Object(R.jsxs)(F,{children:[Object(R.jsx)(S.d,{children:"Supertag"}),Object(R.jsxs)(H,{children:[Object(R.jsx)(J,{children:n}),Object(R.jsx)(Y,{children:c}),f?Object(R.jsxs)(q,{disabled:!u,title:u?"Remove from your collection":"You need to be signed in",onClick:b,children:[Object(R.jsx)(v.H,{})," Imported"]}):Object(R.jsxs)(q,{disabled:!u,title:u?"Import into your collection":"You need to be signed in",onClick:d,children:[Object(R.jsx)(v.z,{})," Import"]}),Object(R.jsxs)(U,{onClick:i,title:"Copy share url",children:[Object(R.jsx)(z,{id:"share-link",children:window.location.href}),Object(R.jsx)(v.j,{})]}),Object(R.jsx)(W,{tags:a,detailed:!1,onTagClick:B,onTagMenu:E.b})]})]})]})}}}]);
//# sourceMappingURL=9.45f79641.chunk.js.map