(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[9],{193:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(1),c=t.n(r);function a(e){c.a.useEffect((function(){document.title=e}),[e])}},200:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var r=t(10),c=t(1),a=t.n(c),i=t(207),o=t(95),u=t(7),s=t.n(u),d=t(15);function l(){return(l=Object(d.a)(s.a.mark((function e(n){var t,r,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new TextEncoder).encode(n),e.next=3,crypto.subtle.digest("SHA-256",t);case 3:return r=e.sent,c=Array.from(new Uint8Array(r)),a=c.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){var e=a.a.useState({}),n=Object(r.a)(e,2),t=n[0],c=n[1],u=a.a.useState(),s=Object(r.a)(u,2),d=s[0],b=s[1],j=Object(o.a)(),f=Object(r.a)(j,2)[1];return a.a.useEffect((function(){(null===f||void 0===f?void 0:f.email)&&function(e){return l.apply(this,arguments)}(f.email).then((function(e){var n=i.a.firestore().collection("users/".concat(e,"/supertags"));return b(n),n.get()})).then((function(e){var n=e.docs.reduce((function(e,n){return e[n.id]=n.data(),e}),{});c(n)})).catch((function(e){console.error("Error with useSupertags",e)}))}),[null===f||void 0===f?void 0:f.email]),a.a.useEffect((function(){if(d){var e=d.onSnapshot((function(e){var n=e.docs.reduce((function(e,n){return e[n.id]=n.data(),e}),{});c(n)}));return function(){e()}}}),[d]),t}},225:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return D}));var r,c,a,i,o,u,s,d,l=t(10),b=t(5),j=t(1),f=t.n(j),p=t(26),O=t(4),h=t(20),g=t(39),m=t(193),v=t(23),x=t(29),w=t(87),k=t(60),y=t(47),S=t(96),C=t(97),E=t(24),T=t(19),A=t(30),I=t(95),M=t(200),R=t(2),F=Object(O.d)(w.b)(r||(r=Object(b.a)(["\n  place-content: center;\n  align-items: center;\n  place-content: center;\n  flex-grow: 1;\n"]))),H=Object(O.d)(k.b)((function(e){var n=e.theme;return Object(O.c)(c||(c=Object(b.a)(["\n    grid-template-rows: auto auto auto 1fr;\n    grid-template-columns: 1fr auto;\n    padding: ",";\n    justify-content: center;\n    max-width: ",";\n  "])),n.dimensions.hugeSpacing,n.dimensions.modalWidth)})),J=Object(O.d)(y.d)(a||(a=Object(b.a)(["\n  text-align: left;\n  grid-area: 1/1/2/2;\n"]))),Y=Object(O.d)(y.b)(i||(i=Object(b.a)(["\n  grid-area: 2/1/3/3;\n"]))),q=Object(O.d)(x.f)(o||(o=Object(b.a)(["\n  grid-area: 1/2/2/3;\n"]))),z=Object(O.d)(y.b)(u||(u=Object(b.a)(["\n  overflow-x: auto;\n  white-space: nowrap;\n  mask-image: linear-gradient(90deg, #000 95%, transparent);\n  ::-webkit-scrollbar {\n    height: 0px;\n  }\n"]))),U=O.d.span((function(e){var n=e.theme;return Object(O.c)(s||(s=Object(b.a)(["\n    ","\n    ","\n    padding: ",";\n    color: ",";\n    grid-area: 3/1/4/3;\n    cursor: pointer;\n\n    :active,\n    :active > span {\n      color: ",";\n    }\n  "])),T.f,A.e,n.dimensions.bigSpacing,n.colors.subduedText,n.colors.accentColor)})),W=Object(O.d)(C.a)(d||(d=Object(b.a)(["\n  grid-area: 4/1/5/3;\n"]))),B=function(e){};function D(){var e=Object(p.g)(),n=Object(h.b)(e.search),t=n.name,r=n.description,c=n.tags;Object(m.a)("Rule34 React - ".concat(t));var a=f.a.useMemo((function(){return Object.entries(c).reduce((function(e,n){var t=Object(l.a)(n,2),r=t[0],c=t[1];return e[r]={name:r,modifier:c,types:[]},e}),{})}),[c]),i=f.a.useCallback((function(){navigator.permissions.query({name:"clipboard-write"}).then((function(e){"granted"!==e.state&&"prompt"!==e.state||navigator.clipboard.writeText(window.location.href).then((function(){}),(function(){console.warn("Failed to write to clipboard")}))}))}),[]),o=Object(I.a)(),u=Object(l.a)(o,1)[0],s=Object(M.a)(),d=f.a.useCallback((function(){Object(g.a)(t,r,c).then((function(){})).catch((function(e){return console.error("Failed to import supertag",e)}))}),[r,t,c]),b=f.a.useCallback((function(){return Object(g.f)(t)}),[t]),j=f.a.useMemo((function(){return u&&t in s}),[t,u,s]);return Object(R.jsxs)(w.a,{children:[Object(R.jsx)(S.a,{}),Object(R.jsxs)(F,{children:[Object(R.jsx)(y.d,{children:"Supertag"}),Object(R.jsxs)(H,{children:[Object(R.jsx)(J,{children:t}),Object(R.jsx)(Y,{children:r}),j?Object(R.jsxs)(q,{disabled:!u,title:u?"Remove from your collection":"You need to be signed in",onClick:b,children:[Object(R.jsx)(v.H,{})," Imported"]}):Object(R.jsxs)(q,{disabled:!u,title:u?"Import into your collection":"You need to be signed in",onClick:d,children:[Object(R.jsx)(v.z,{})," Import"]}),Object(R.jsxs)(U,{onClick:i,title:"Copy share url",children:[Object(R.jsx)(z,{id:"share-link",children:window.location.href}),Object(R.jsx)(v.j,{})]}),Object(R.jsx)(W,{tags:a,detailed:!1,onTagClick:B,onTagMenu:E.b})]})]})]})}}}]);
//# sourceMappingURL=9.77384f26.chunk.js.map