(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[2],[,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return j}),n.d(t,"m",function(){return h}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return O}),n.d(t,"q",function(){return p}),n.d(t,"r",function(){return m}),n.d(t,"s",function(){return v}),n.d(t,"t",function(){return x}),n.d(t,"u",function(){return y}),n.d(t,"v",function(){return w}),n.d(t,"w",function(){return k}),n.d(t,"x",function(){return C}),n.d(t,"p",function(){return S}),n.d(t,"A",function(){return E}),n.d(t,"I",function(){return R}),n.d(t,"y",function(){return T}),n.d(t,"z",function(){return A}),n.d(t,"N",function(){return N}),n.d(t,"L",function(){return _}),n.d(t,"C",function(){return I}),n.d(t,"O",function(){return P}),n.d(t,"P",function(){return L}),n.d(t,"F",function(){return D}),n.d(t,"E",function(){return F}),n.d(t,"M",function(){return B}),n.d(t,"K",function(){return z}),n.d(t,"G",function(){return M}),n.d(t,"H",function(){return U}),n.d(t,"B",function(){return W}),n.d(t,"Q",function(){return H}),n.d(t,"R",function(){return G}),n.d(t,"D",function(){return V}),n.d(t,"J",function(){return q}),n.d(t,"S",function(){return K});const c="r34-react/ADD_ALIASES",r="r34-react/ADD_POSTS",o="r34-react/ADD_TAG",i="r34-react/CLOSE_MODAL",a="r34-react/ENTER_FULLSCREEN",s="r34-react/EXIT_FULLSCREEN",u="r34-react/FETCH_COMMENTS",l="r34-react/FETCH_PREFERENCES",d="r34-react/FETCH_SUGGESTIONS",b="r34-react/GET_MORE_RESULTS",f="r34-react/GET_RESULTS",j="r34-react/LIKE_POST",h="r34-react/OPEN_MODAL",g="r34-react/REMOVE_TAG",O="r34-react/SAVE_PREFERENCES",p="r34-react/SET_COMMENTS",m="r34-react/SET_FULLSCREEN_POST",v="r34-react/SET_POSTS",x="r34-react/SET_PREFERENCE",y="r34-react/SET_PREFERENCES",w="r34-react/SET_SUGGESTIONS",k="r34-react/SET_SUGGESTIONS_ERROR",C="r34-react/SET_SUGGESTIONS_MODIFIER",S="r34-react/SCROLL_TO_POST";function E(e){return{type:o,tag:e}}function R(e){return{type:g,tagName:e}}function T(e,t){return{type:c,aliases:e,forTag:t}}function A(e){return{type:r,posts:e}}function N(e,t){return{type:v,posts:e,count:t,pageNumber:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}}function _(e,t){return{type:p,postId:e,comments:t}}function I(e){return{type:u,postId:e}}function P(e,t){return{type:x,key:e,value:t}}function L(e){return{type:y,preferences:e}}function D(){return{type:f,pageNumber:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}function F(){return{type:b}}function B(e){return{type:m,index:e}}function z(e){return{type:S,index:e}}function M(e){return{type:j,postId:e}}function U(e){return{type:h,modalId:e}}function W(){return{type:i}}function H(e){return{type:w,suggestions:e}}function G(e){return{type:k,error:e}}function V(e,t){return{type:d,value:e,includeSupertags:t}}function q(){return{type:O}}function K(e){return{type:C,modifier:e}}},,,,function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"i",function(){return b}),n.d(t,"j",function(){return f}),n.d(t,"k",function(){return j}),n.d(t,"q",function(){return g}),n.d(t,"r",function(){return O}),n.d(t,"s",function(){return p}),n.d(t,"v",function(){return m}),n.d(t,"w",function(){return v}),n.d(t,"y",function(){return x}),n.d(t,"x",function(){return y}),n.d(t,"z",function(){return w}),n.d(t,"A",function(){return k}),n.d(t,"B",function(){return C}),n.d(t,"D",function(){return S}),n.d(t,"E",function(){return E}),n.d(t,"F",function(){return R}),n.d(t,"G",function(){return T}),n.d(t,"I",function(){return A}),n.d(t,"J",function(){return N}),n.d(t,"g",function(){return _}),n.d(t,"C",function(){return I}),n.d(t,"p",function(){return P}),n.d(t,"e",function(){return L}),n.d(t,"l",function(){return F}),n.d(t,"m",function(){return B}),n.d(t,"o",function(){return U}),n.d(t,"H",function(){return W}),n.d(t,"h",function(){return H}),n.d(t,"t",function(){return G}),n.d(t,"u",function(){return V}),n.d(t,"n",function(){return q}),n.d(t,"a",function(){return K});var c=n(3),r=n(27),o=n(45),i=n(15),a=n(19);const s=e=>e.tags.active,u=e=>e.preferences.themeId,l=e=>e.tags.aliases,d=e=>e.preferences.autoPlay,b=e=>e.preferences.cookies,f=e=>e.results.count,j=e=>e.fullscreen.currentIndex,h=e=>e.modals.openModal,g=e=>e.preferences.originals,O=e=>e.results.pageNumber,p=e=>e.preferences.pageSize,m=e=>e.results.posts,v=e=>e.preferences,x=e=>e.preferences.preloadVideos,y=e=>e.preferences.preloadVideos,w=e=>e.preferences.resultsLayout,k=e=>e.preferences.showComments,C=e=>e.preferences.showMetadata,S=e=>e.preferences.sort,E=e=>e.suggestions.entries,R=e=>e.suggestions.error,T=e=>e.suggestions.modifier,A=e=>e.preferences.tagSuggestionsCount,N=e=>e.results.updated,_=e=>e.preferences.autoscrollDelay,I=e=>e.preferences.showPostDetails,P=Object(r.a)(s,e=>Object.keys(e).length),L=Object(r.a)(l,e=>Object.values(e).flat()),D=(Object(r.a)(m,e=>0!==e.length),Object(r.a)(m,f,(e,t)=>e.length===t)),F=Object(r.a)(D,e=>!e),B=Object(r.a)(f,p,(e,t)=>Math.ceil(e/t)-1),z=Object(r.a)(m,j,(e,t)=>e[t]),M=Object(r.a)(m,z,(e,t)=>t?e.indexOf(t):-1),U=Object(r.a)(e=>e.preferences.rated,e=>e.preferences.ratedThreshold,(e,t)=>e?t:0),W=(Object(r.a)(m,M,(e,t)=>t+1<e.length?t+1:void 0),Object(r.a)(M,e=>e>0?e-1:void 0),Object(r.a)(h,e=>e===a.a.CREATE_SUPERTAG)),H=Object(r.a)(h,e=>e===a.a.CELLULAR_WARNING),G=Object(o.a)(e=>Object(r.a)(m,t=>t.find(t=>t.id===e))),V=Object(o.a)(e=>Object(r.a)(m,t=>t[e])),q=(Object(o.a)(e=>Object(r.a)(l,t=>t[e])),Object(o.a)(e=>t=>e in t.likes)),K=Object(r.a)(s,e=>Object.values(e).filter(i.g).reduce((e,t)=>Object(c.a)(Object(c.a)({},e),t.tags),{}))},,,function(e,t,n){"use strict";n.d(t,"i",function(){return O}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return v}),n.d(t,"f",function(){return x}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return w}),n.d(t,"g",function(){return k}),n.d(t,"a",function(){return S});var c,r,o,i,a,s,u,l,d,b,f=n(5),j=n(4),h=n(26),g=n(25);function O(e){let{theme:t}=e;return Object(j.c)(c||(c=Object(f.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    ","\n    ","\n  "])),Object(h.d)(t.dimensions.bigSpacing),Object(h.c)(t.dimensions.bigSpacing))}function p(){return Object(j.c)(r||(r=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n  "])))}function m(e){let{theme:t}=e;return Object(j.c)(o||(o=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    ",";\n  "])),Object(h.c)(t.dimensions.bigSpacing))}function v(e){let{theme:t}=e;return Object(j.c)(i||(i=Object(f.a)(["\n    display: grid;\n    ","\n  "])),Object(h.e)(t.dimensions.bigSpacing))}function x(e){let{theme:t}=e;return Object(j.c)(a||(a=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    ",";\n  "])),Object(h.d)(t.dimensions.bigSpacing))}function y(e){let{theme:t}=e;return Object(j.c)(s||(s=Object(f.a)(["\n    width: 100%;\n    max-width: ",";\n    margin-left: auto;\n    margin-right: auto;\n  "])),t.dimensions.bodyWidth)}function w(e){let{theme:t}=e;return Object(j.c)(u||(u=Object(f.a)(["\n    height: ",";\n    padding: 0 ",";\n  "])),t.dimensions.blockHeight,t.dimensions.bigSpacing)}function k(){return Object(j.c)(l||(l=Object(f.a)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    ",";\n  "])),C)}function C(){return Object(j.c)(d||(d=Object(f.a)(["\n    width: 100vw;\n    height: 100vh;\n  "])))}function S(e){let{theme:t}=e;return Object(j.c)(b||(b=Object(f.a)(["\n    display: inline-flex;\n    align-items: center;\n    place-content: center;\n\n    height: ",";\n    cursor: pointer;\n    white-space: nowrap;\n    border-radius: ",";\n    font-size: ",";\n    ","\n    ","\n  "])),t.dimensions.blockHeight,t.dimensions.borderRadius,t.fontSizes.content,h.a,g.i)}},,function(e,t,n){"use strict";(function(e){n.d(t,"h",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d});var c=n(3);function r(e){return encodeURIComponent(e.toLowerCase().replace(/ /g,"_"))}function o(e,t){return Object(c.a)(Object(c.a)({},e),{},{modifier:t})}function i(e){return void 0!==e.modifier}function a(e){return void 0!==e.tags}function s(e){return e.find(e=>!e.match(/^[general|ambiguous]$/))}function u(e){return void 0!==e.message}function l(t){const n="".concat(encodeURI(t.name),"/").concat(encodeURI(t.description),"/").concat(encodeURI(Object.entries(t.tags).map(e=>{let[t,n]=e;return"".concat(t,",").concat(n)}).join(";")));return e.from(n).toString("base64")}function d(t){var n;const c=e.from((n=t,"#"===n[0]?n.substr(1):n),"base64").toString().split("/").map(decodeURI);return{name:c[0],description:c[1],tags:Object.fromEntries(c[2].split(";").map(e=>e.split(",")))}}}).call(this,n(94).Buffer)},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return j}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"i",function(){return O}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return v}),n.d(t,"m",function(){return x}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return w}),n.d(t,"p",function(){return k}),n.d(t,"q",function(){return C}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return E}),n.d(t,"u",function(){return R}),n.d(t,"v",function(){return T}),n.d(t,"w",function(){return A}),n.d(t,"x",function(){return N}),n.d(t,"y",function(){return _}),n.d(t,"z",function(){return I}),n.d(t,"A",function(){return P}),n.d(t,"B",function(){return L}),n.d(t,"C",function(){return D}),n.d(t,"D",function(){return F}),n.d(t,"E",function(){return B}),n.d(t,"F",function(){return z}),n.d(t,"H",function(){return M}),n.d(t,"I",function(){return U}),n.d(t,"J",function(){return W}),n.d(t,"K",function(){return H}),n.d(t,"L",function(){return G}),n.d(t,"M",function(){return V}),n.d(t,"N",function(){return q}),n.d(t,"r",function(){return K}),n.d(t,"d",function(){return Y}),n.d(t,"G",function(){return J}),n.d(t,"b",function(){return Q});var c=n(3),r=n(46),o=n(12),i=n(104),a=n(1),s=n.n(a),u=n(2);const l=e=>s.a.memo(t=>Object(u.jsx)(i.a,Object(c.a)({"data-testid":"icon",icon:e},t))),d=l(o.e),b=l(o.u),f=l(o.d),j=l(o.F),h=l(o.g),g=l(o.C),O=l(o.h),p=l(o.j),m=l(o.k),v=l(r.a),x=l(r.b),y=l(o.l),w=l(o.m),k=l(o.n),C=l(o.D),S=l(r.c),E=l(r.d),R=l(o.q),T=l(o.r),A=l(o.t),N=l(o.s),_=l(r.e),I=l(o.v),P=l(o.G),L=l(o.w),D=l(o.y),F=(l(o.i),l(o.z)),B=l(o.A),z=l(o.p),M=l(o.f),U=l(o.B),W=l(o.x),H=l(r.f),G=l(r.g),V=l(o.E),q=l(o.H),K=l(o.o),Y=l(o.c),J=l(o.a),Q=l(o.b)},,,function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});let c=function(e){return e.SEARCH="/",e.PREFERENCES="/preferences",e.ABOUT="/about",e.PRIVACY="/privacy",e.TERMS="/terms",e.STORIES="/stories",e.SHARE="/share",e}({}),r=function(e){return e[e.CREATE_SUPERTAG=0]="CREATE_SUPERTAG",e[e.CELLULAR_WARNING=1]="CELLULAR_WARNING",e}({});const o=()=>{}},,function(e,t,n){"use strict";n.d(t,"d",function(){return g}),n.d(t,"c",function(){return O}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"e",function(){return x});var c,r,o,i,a,s,u,l=n(5),d=n(4),b=n(13),f=n(81),j=n(25);const h=d.d.button(c||(c=Object(l.a)(["\n  ","\n"])),b.a),g=d.d.a(e=>{let{theme:t}=e;return Object(d.c)(r||(r=Object(l.a)(["\n    ","\n\n    gap: ",";\n    padding: 0 ",";\n    background-color: ",";\n    border-radius: ",";\n    color: ",";\n\n    :visited {\n      color: "," !important;\n      text-decoration: none !important;\n    }\n\n    :hover {\n      opacity: 0.8;\n      text-decoration: none !important;\n    }\n\n    :active {\n      opacity: 0.6;\n      text-decoration: none !important;\n    }\n  "])),b.a,t.dimensions.bigSpacing,t.dimensions.hugeSpacing,t.colors.layerBg,t.dimensions.borderRadius,t.colors.text,t.colors.text)}),O=d.d.button(e=>{let{theme:t}=e;return Object(d.c)(o||(o=Object(l.a)(["\n    background-color: transparent;\n    border: none;\n    padding: ",";\n    color: ",";\n    cursor: pointer;\n    font-size: ",";\n\n    ","\n\n    svg {\n      ","\n    }\n  "])),t.dimensions.bigSpacing,t.colors.text,t.fontSizes.content,f.a,j.i)}),p=Object(d.d)(h)(e=>{let{theme:t}=e;return Object(d.c)(i||(i=Object(l.a)(["\n    ","\n\n    gap: ",";\n    padding: 0 ",";\n  "])),j.f,t.dimensions.bigSpacing,t.dimensions.hugeSpacing)}),m=Object(d.d)(p)(a||(a=Object(l.a)(["\n  width: 100%;\n"]))),v=Object(d.d)(p)(e=>{let{theme:t}=e;return Object(d.c)(s||(s=Object(l.a)(["\n    border-radius: 0 "," "," 0;\n    min-width: ",";\n  "])),t.dimensions.borderRadius,t.dimensions.borderRadius,t.dimensions.blockHeight)}),x=Object(d.d)(h)(e=>{let{theme:t}=e;return Object(d.c)(u||(u=Object(l.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    font-size: 24px;\n\n    :focus {\n      text-decoration: none;\n    }\n\n    ","\n    border-right-width: 0;\n    border-radius: "," 0 0 ",";\n  "])),j.b,t.dimensions.borderRadius,t.dimensions.borderRadius)})},,,,function(e,t,n){"use strict";n.d(t,"i",function(){return g}),n.d(t,"a",function(){return O}),n.d(t,"b",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return v}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return w}),n.d(t,"h",function(){return k}),n.d(t,"c",function(){return C});var c,r,o,i,a,s,u,l,d,b,f=n(5),j=n(4),h=n(13);function g(e){let{theme:t}=e;return Object(j.c)(c||(c=Object(f.a)(["\n    transition: all "," linear;\n  "])),t.timings.transitionTime)}function O(e){let{theme:t}=e;return Object(j.c)(r||(r=Object(f.a)(["\n    border-radius: ",";\n  "])),t.dimensions.borderRadius)}function p(e){let{theme:t}=e;return Object(j.c)(o||(o=Object(f.a)(["\n    border-color: ",";\n    border-width: ",";\n    border-style: solid;\n    ","\n  "])),t.colors.accentColor,t.dimensions.borderWidth,O)}function m(e){let{theme:t,disabled:n}=e;return Object(j.c)(i||(i=Object(f.a)(["\n    color: ",";\n    background-color: ",";\n    border: none;\n\n    ","\n    ","\n  "])),t.colors.backgroundColor,n?t.colors.subduedText:t.colors.accentColor,g,y)}function v(e){let{theme:t,disabled:n}=e;const c=n?t.colors.subduedText:t.colors.accentColor;return Object(j.c)(a||(a=Object(f.a)(["\n    color: ",";\n    background-color: transparent;\n\n    ","\n    ","\n    ","\n  "])),c,g,p,y)}function x(e){let{theme:t}=e;return Object(j.c)(s||(s=Object(f.a)(["\n    :focus {\n      color: ",";\n      border-color: ",";\n    }\n  "])),t.colors.backgroundColor2,t.colors.backgroundColor2)}function y(e){let{disabled:t}=e;return t?"":Object(j.c)(u||(u=Object(f.a)(["\n        :hover {\n          filter: brightness(120%);\n        }\n\n        :focus {\n          ","\n        }\n\n        :active {\n          filter: brightness(90%);\n        }\n      "])),x)}function w(e){let{theme:t}=e;return Object(j.c)(l||(l=Object(f.a)(["\n    background-color: ",";\n    ","\n  "])),t.colors.layerBg,O)}function k(e){let{theme:t}=e;return Object(j.c)(d||(d=Object(f.a)(["\n    background-color: ",";\n    ","\n  "])),t.colors.layerBgSolid,O)}function C(e){let{theme:t}=e;return Object(j.c)(b||(b=Object(f.a)(["\n    ","\n    ","\n   \n    background-color: ",";\n    cursor: pointer;\n  "])),p,h.c,t.colors.backgroundColor2)}},function(e,t,n){"use strict";n.d(t,"e",function(){return j}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return p});var c,r,o,i,a,s,u,l,d=n(5),b=n(4),f=n(43);function j(e){return f.e?Object(b.c)(c||(c=Object(d.a)(["\n        gap: ",";\n      "])),e):Object(b.c)(r||(r=Object(d.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n          margin-bottom: ",";\n        }\n      "])),e,e)}function h(e){return f.c?Object(b.c)(o||(o=Object(d.a)(["\n        gap: ",";\n      "])),e):Object(b.c)(i||(i=Object(d.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n        }\n      "])),e)}function g(e){return f.c?Object(b.c)(a||(a=Object(d.a)(["\n        gap: ",";\n      "])),e):Object(b.c)(s||(s=Object(d.a)(["\n        > :not(:last-child) {\n          margin-bottom: ",";\n        }\n      "])),e)}function O(e){let{theme:t}=e;return Object(b.c)(u||(u=Object(d.a)(["\n    ",";\n    padding: ",";\n  "])),j(t.dimensions.bigSpacing),t.dimensions.bigSpacing)}function p(e){let{theme:t}=e;return Object(b.c)(l||(l=Object(d.a)(["\n    ",";\n    padding: 0 ",";\n  "])),j(t.dimensions.bigSpacing),t.dimensions.bigSpacing)}},,,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return k}),n.d(t,"e",function(){return x}),n.d(t,"j",function(){return i}),n.d(t,"k",function(){return a}),n.d(t,"b",function(){return f}),n.d(t,"h",function(){return j}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return O}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return m});var c=n(34);n(88),n(71),n(90);let r,o=!1;function i(){o?c.a.auth().signInWithPopup(r).catch(e=>{console.error("Sign in failed:",e.code,e.message)}):console.warn("Cannot sign in before initialization")}async function a(){if(o)return await c.a.auth().signOut().catch(e=>{console.error("Sign out failed:",e.code,e.message)});console.warn("Cannot sign out before initialization")}var s=n(64);class u{toFirestore(e){return e}fromFirestore(e,t){return e.data(t)}}let l,d=!1;async function b(){if(console.log("[firestore] getting user document"),d)try{const{currentUser:e}=c.a.auth(),t=null===e||void 0===e?void 0:e.email;if(t){const e=await Object(s.b)(t);return c.a.firestore().collection("users").doc(e)}return}catch(e){return void console.warn("Failed to get user document:",e)}else console.warn("Cannot get userDoc. Not initialized yet")}async function f(){const e=await async function(){const e=await b();if(e)return(await e.withConverter(l).get()).data()}();if(e)return e.preferences}async function j(e){const t=await b();await(null===t||void 0===t?void 0:t.set({preferences:e}))}async function h(){console.warn("no longer supported")}async function g(){const e=await b();if(e){console.log("[firestore] getting user supertags");const t=await e.collection("supertags").get(),n={};return t.forEach(e=>{n[e.id]=e.data()}),n}}async function O(e,t,n){const c=await b();null===c||void 0===c||c.collection("supertags").doc(e).set({description:t,tags:n})}async function p(e){const t=await b();null===t||void 0===t||t.collection("supertags").doc(e).delete()}async function m(e,t){const n=await b();null===n||void 0===n||n.collection("supertags").doc(e).update({tags:t})}let v=!1;async function x(e){v&&c.a.analytics().logEvent(e.id,e.payload)}let y=!1;const w={apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"};function k(){y||(c.a.initializeApp(w),y=!0,r=new c.a.auth.GoogleAuthProvider,o=!0,l=new u,d=!0,v=!0)}},,,,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return f});var c,r,o,i,a=n(5),s=n(4),u=n(13);const l=s.d.h2(e=>{let{theme:t}=e;return Object(s.c)(c||(c=Object(a.a)(["\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),t.fontSizes.bigTitle)}),d=s.d.h1(e=>{let{theme:t}=e;return Object(s.c)(r||(r=Object(a.a)(["\n    ","\n\n    justify-content: center;\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),Object(u.f)({theme:t}),t.fontSizes.bigTitle)}),b=s.d.h3(e=>{let{theme:t}=e;return Object(s.c)(o||(o=Object(a.a)(["\n    font-size: ",";\n  "])),t.fontSizes.content)}),f=s.d.span(e=>{let{theme:t}=e;return Object(s.c)(i||(i=Object(a.a)(["\n    color: ",";\n  "])),t.colors.subduedText)})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});let c=function(e){return e[e.POST=1]="POST",e[e.OVERLAY=2]="OVERLAY",e[e.COOKIEBAR=100]="COOKIEBAR",e[e.DROPDOWN=3]="DROPDOWN",e[e.MODAL=1e3]="MODAL",e}({})},function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"e",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return l});const c=(()=>{var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);var t=1===e.scrollHeight;return e.parentNode.removeChild(e),t})(),r="gap"in document.body.style,o="aspect-ratio"in document.body.style,i="object-fit"in document.body.style,a=document.fullscreenEnabled,s="connection"in navigator||"mozConnection"in navigator||"webkitConnection"in navigator,u=Boolean(localStorage);async function l(e){if(document.fullscreenEnabled&&null===document.fullscreenElement)try{const t=e.requestFullscreen();return"then"in t?await t:Promise.resolve(t)}catch(t){}return null}},,,,function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return c}),n.d(t,"f",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return l});const c=(e,t)=>e.reduce((e,n)=>(e[n[t]]=n,e),{});function r(e){try{return new URL(e)}catch(t){return}}function o(e){return Number(e.split(".").join(""))}function i(e){const t=e.split("/").pop()||"";fetch("https://r34-json.herokuapp.com/images?url=".concat(e)).then(e=>e.blob()).then(e=>{var n=document.createElement("a");n.download=t,n.href=window.URL.createObjectURL(e),document.body.appendChild(n),n.click(),n.remove()}).catch(e=>console.error("Download error:",e))}function a(){var t,n;return null!==(t=e)&&void 0!==t&&null!==(n=Object({NODE_ENV:"production",PUBLIC_URL:"/r34-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"3.1.0"}))&&void 0!==n&&n.REACT_APP_VERSION?"3.1.0":"unknown"}function s(){const e=a();return"unknown"===e?"Latest Release":"Version ".concat(e)}function u(e){return e?1:0}const l=e=>Math.floor(Math.random()*e)}).call(this,n(54))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var c=n(1),r=n(11);function o(e){const t=Object(r.b)();return Object(c.useCallback)(()=>t(e()),[e,t])}},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c=n(1),r=n(11),o=n(6),i=n(10);function a(e){const t=Object(r.b)(),n=Object(r.c)(i.w),a=Object(c.useCallback)(n=>t(Object(o.O)(e,n)),[t,e]);return[n[e],a]}},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var c,r,o=n(5),i=n(4),a=n(26),s=n(25);const u=i.d.div(c||(c=Object(o.a)(["\n  display: grid;\n  ","\n  ","\n  width: 100%;\n"])),a.b,s.e),l=i.d.div(r||(r=Object(o.a)(["\n  ","\n  ","\n  width: 100%;\n"])),a.b,s.h)},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return d});var c=n(47);const r=e=>e/1e6>=1?"".concat(Math.trunc(e/1e6),"M"):e>=1e3?"".concat(Math.trunc(e/1e3),"K"):e.toString(),o=e=>{const t=Object(c.f)(e);return t?t.host:e};function i(e){const t=Math.trunc(e/60),n=Math.trunc(e%60);return t+":"+(n<10?"0":"")+n}function a(e){return e.replace(/_/g," ").replace(/source:/g,"").replace(/rating:/g,"")}function s(e,t){return t?"".concat(a(e)," (").concat(r(t),")"):a(e)}const u=e=>e<10?"0".concat(e):e.toString();function l(e){const t=u(e.getDate()),n=u(e.getMonth()+1),c=e.getFullYear(),r=u(e.getHours()),o=u(e.getMinutes());return"".concat(t,"/").concat(n,"/").concat(c," ").concat(r,":").concat(o)}function d(e){return e>=315576e5?b(e,315576e5,"year"):e>=2629756800?b(e,2629756800,"month"):e>=6048e5?b(e,6048e5,"week"):e>=854e5?b(e,854e5,"day"):e>=36e5?b(e,36e5,"hour"):e>=6e4?b(e,6e4,"minute"):e>=1e3?b(e,1e3,"second"):"".concat(e," ms")}function b(e,t,n){const c=(e/t).toFixed(0),r="1"===c?n:"".concat(n,"s");return"".concat(c," ").concat(r)}},,,,,,function(e,t,n){"use strict";var c,r=n(5),o=n(4),i=n(13);const a=o.d.div(c||(c=Object(r.a)(["\n  ","\n"])),i.f);t.a=a},,function(e,t,n){"use strict";var c,r=n(5),o=n(4),i=n(74);const a=o.d.img(c||(c=Object(r.a)(["\n  ","\n  ","\n"])),i.a,i.c);t.a=a},,,function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return r});const c=e=>Object.entries(e).reduce((e,t)=>{let[n,c]=t;return e.append(n,(e=>"string"===typeof e?e:e.toString())(c)),e},new URLSearchParams),r=async e=>{const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(1);var c=n(59),r=n(78),o=n(2);function i(e){const{children:t,value:n,onToggle:i,className:a}=e;return Object(o.jsxs)(c.a,{className:a,children:[Object(o.jsx)(r.a,{value:n,onToggle:i}),Object(o.jsx)("span",{children:t})]})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(1);var c=n(16),r=n(2);function o(e){const{type:t,className:n=""}=e;switch(t){case"character":return Object(r.jsx)(c.f,{className:n});case"copyright":return Object(r.jsx)(c.k,{className:n});case"artist":return Object(r.jsx)(c.c,{className:n});case"rating":return Object(r.jsx)(c.B,{className:n});case"source":return Object(r.jsx)(c.F,{className:n});case"metadata":return Object(r.jsx)(c.x,{className:n});case"supertag":return Object(r.jsx)(c.I,{className:n});default:return null}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c,r=n(5),o=n(4);function i(e){let{theme:t}=e;return Object(o.c)(c||(c=Object(r.a)(["\n    overflow-x: hidden;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar {\n      width: 8px;\n\n      :hover {\n        background: ",";\n      }\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n      background: ",";\n      border-left: 1px lightgray solid;\n    }\n\n    /* Handle */\n    :hover {\n      ::-webkit-scrollbar {\n        background: ","20;\n      }\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ","40;\n      border-radius: 100px;\n\n      :hover {\n        background: ","30;\n      }\n    }\n  "])),t.colors.layerBg,t.colors.backgroundColor2,t.colors.backgroundColor,t.colors.backgroundColor,t.colors.backgroundColor)}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l});var c,r,o=n(5),i=n(4),a=n(26),s=n(13);const u=i.d.div(c||(c=Object(o.a)(["\n  ","\n  width: 100%;\n  min-height: 100%;\n"])),s.d),l=Object(i.d)(u)(r||(r=Object(o.a)(["\n  ","\n"])),a.b)},,,,function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return f});var c,r,o,i,a=n(5),s=n(4),u=n(43),l=n(25);function d(){return Object(s.c)(c||(c=Object(a.a)(["\n    ","\n  "])),l.a)}function b(){return Object(s.c)(r||(r=Object(a.a)(["\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: contain;\n  "])))}function f(e){let{width:t,height:n}=e;return t&&n?u.b?Object(s.c)(o||(o=Object(a.a)(["\n        aspect-ratio: "," / ",";\n      "])),t,n):Object(s.c)(i||(i=Object(a.a)(["\n        max-width: 100%;\n        height: auto;\n      "]))):""}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});n(3);const c=e=>void 0!==e.tags,r=e=>void 0!==e.message;function o(e){const t=function(e){let t=[];return e.forEach(e=>{c(e)?Object.entries(e.tags).forEach(e=>{let[n,c]=e;t.push({name:n,modifier:c})}):t.push(e)}),t}(Object.values(e)),n=function(e){return e.reduce((e,t)=>{var n;return t.modifier in e||(e[t.modifier]=[]),null===(n=e[t.modifier])||void 0===n||n.push(t),e},{"+":[],"-":[],"~":[]})}(t),r=[...n["+"],...n["-"]].map(i).join(" + "),o=n["~"].length>0?" + ( ".concat(n["~"].map(i).join(" ~ ")," )"):"";return"".concat(r).concat(o)}function i(e){return"".concat("-"===e.modifier?"-":"").concat((t=e.name,encodeURIComponent(t.toLowerCase().replace(/ /g,"_"))));var t}}).call(this,n(94).Buffer)},,function(e,t,n){"use strict";n.d(t,"a",function(){return j});var c,r,o,i,a=n(5),s=(n(1),n(4)),u=n(43),l=n(25),d=n(2);const b=s.d.div(e=>Object(s.c)(c||(c=Object(a.a)(["\n    height: 24px;\n    width: 50px;\n    ","\n    border-radius: 30px;\n    background-color: transparent;\n    transition: transform "," ease-in-out;\n    cursor: pointer;\n  "])),Object(l.b)(e),e.theme.timings.longTransitionTime));const f=s.d.div(e=>Object(s.c)(i||(i=Object(a.a)(["\n    ","\n    background-color: ",";\n    border-radius: 100px;\n    transition: all 0.2s ease-in-out;\n    transform: translate(",");\n  "])),u.b?Object(s.c)(r||(r=Object(a.a)(["\n        height: 100%;\n        aspect-ratio: 1/1;\n      "]))):Object(s.c)(o||(o=Object(a.a)(["\n        height: 100%;\n        width: 22px;\n      "]))),e.value?e.theme.colors.accentColor:e.theme.colors.toggleOff,e.value?"26px":"0px"));function j(e){const{value:t,onToggle:n}=e;return Object(d.jsx)(b,{onClick:n,role:"checkbox","aria-checked":t,children:Object(d.jsx)(f,{value:t})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return R});var c=n(5),r=n(4),o=n(93),i=n(26),a=n(13),s=n(59),u=n(41),l=n(1),d=n.n(l);var b=n(16),f=n(2);function j(){const e=Object(r.f)();return function(e){const[t,n]=d.a.useState(window.navigator.onLine);return d.a.useEffect(()=>{const t=()=>{var t;n(!0),null===e||void 0===e||null===(t=e.onOnline)||void 0===t||t.call(e)};return window.addEventListener("online",t),()=>window.removeEventListener("online",t)}),d.a.useEffect(()=>{const t=()=>{var t;n(!1),null===e||void 0===e||null===(t=e.onOffline)||void 0===t||t.call(e)};return window.addEventListener("offline",t),()=>window.removeEventListener("offline",t)}),t}()?Object(f.jsx)("div",{}):Object(f.jsx)(b.q,{title:"You are offline",color:e.colors.negative})}var h,g,O,p=n(58),m=n(22),v=n(19);const x=r.d.nav(h||(h=Object(c.a)(["\n  ","\n  place-content: center;\n"])),a.f),y=Object(r.d)(p.b)(e=>{let{to:t,current:n,theme:o}=e;return Object(r.c)(g||(g=Object(c.a)(["\n    ","\n    color: ",";\n    border-bottom: solid transparent ",";\n    border-bottom-color: ",";\n    border-radius: 0px;\n  "])),a.a,t===n?o.colors.accentColor:o.colors.text,o.dimensions.borderWidth,t===n?Object(r.c)(O||(O=Object(c.a)(["\n          ","\n        "])),o.colors.accentColor):"none")});function w(){const e=Object(m.g)().pathname;return Object(f.jsxs)(x,{children:[Object(f.jsx)(y,{current:e,to:v.c.SEARCH,children:Object(f.jsx)("span",{children:"Search"})}),Object(f.jsx)(y,{current:e,to:v.c.PREFERENCES,children:Object(f.jsx)("span",{children:"Preferences"})}),Object(f.jsx)(y,{current:e,to:v.c.ABOUT,children:Object(f.jsx)("span",{children:"About"})})]})}var k,C;const S=r.d.header(e=>{let{theme:t}=e;return Object(r.c)(k||(k=Object(c.a)(["\n    ","\n    background: ",";\n  "])),a.d,t.colors.layerBgSolid)}),E=r.d.div(e=>{let{theme:t}=e;return Object(r.c)(C||(C=Object(c.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    ","\n\n    > :first-child,\n    > :last-child {\n      width: ",";\n    }\n  "])),i.b,t.dimensions.blockHeight)});function R(){return Object(f.jsxs)(S,{role:"cell",children:[Object(f.jsxs)(E,{children:[Object(f.jsx)("div",{}),Object(f.jsxs)(s.a,{children:[Object(f.jsx)(o.a,{size:32}),Object(f.jsx)(u.a,{children:"Rule34 React"})]}),Object(f.jsx)(j,{})]}),Object(f.jsx)(w,{})]})}},function(e,t,n){"use strict";n.d(t,"a",function(){return X});var c,r,o,i=n(5),a=n(1),s=n.n(a),u=n(4),l=n(13),d=n(15),b=n(83),f=n(16),j=n(66),h=n(11),g=n(6),O=n(53);const p={"+":Object(u.c)(c||(c=Object(i.a)([""]))),"-":Object(u.c)(r||(r=Object(i.a)(["\n    text-decoration: line-through;\n  "]))),"~":Object(u.c)(o||(o=Object(i.a)(["\n    font-style: italic;\n  "])))},m=u.d.span(e=>{let{modifier:t="+"}=e;return p[t]});var v,x=n(2);function y(e){const{modifier:t,name:n,count:c}=e;return Object(x.jsx)(m,{modifier:t,children:Object(O.f)(n,c)})}const w=u.d.div(e=>{let{theme:t}=e;return Object(u.c)(v||(v=Object(i.a)(["\n    ","\n    padding: ",";\n    font-size: ",";\n    cursor: pointer;\n  "])),Object(l.f)({theme:t}),t.dimensions.bigSpacing,t.fontSizes.content)});function k(e){const{name:t,count:n,modifier:c}=e,r=Object(h.b)(),o=Object(a.useCallback)(e=>{e.stopPropagation(),r(Object(g.A)({name:t,types:[],count:n,modifier:c}))},[n,r,c,t]);return Object(x.jsx)(w,{onClick:o,"data-name":"alias:".concat(t),children:Object(x.jsx)(y,{modifier:c,name:t,count:n})})}var C,S,E=n(67),R=n(42);const T=u.d.div(e=>{let{theme:t,parentRef:n}=e;if(n){const e=n.getBoundingClientRect();return Object(u.c)(C||(C=Object(i.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n\n      display: flex;\n      flex-direction: column;\n\n      border-bottom-left-radius: ",";\n      border-bottom-right-radius: ",";\n      border: "," solid ",";\n      border-top: none;\n\n      background: ",";\n      z-index: ",";\n      color: ",";\n\n      > :not(:last-child) {\n        border-bottom: "," solid lightgray;\n      }\n\n      max-height: 30vh;\n\n      ","\n    "])),n.offsetTop+e.height,n.offsetLeft,e.width,t.dimensions.borderRadius,t.dimensions.borderRadius,t.dimensions.borderWidth,t.colors.accentColor,t.colors.backgroundColor2,R.a.DROPDOWN,t.colors.backgroundColor,t.dimensions.borderWidth,E.a)}return Object(u.c)(S||(S=Object(i.a)(["\n      display: none;\n    "])))});function A(e){const{aliases:t,modifier:n,parentRef:c}=e;return Object(x.jsx)(T,{parentRef:c,className:"aliaslist",children:t.map(e=>{let{name:t,count:c}=e;return Object(x.jsx)(k,{name:t,count:c,modifier:n},"a_"+t)})})}var N,_,I,P,L,D=n(25);const F=u.d.div(e=>{return Object(u.c)(P||(P=Object(i.a)(["\n      cursor: pointer;\n      border: "," "," solid;\n      ","\n      ","\n      padding: 0 ",";\n      height: ",";\n      border-radius: ",";\n      font-size: ",";\n      user-select: none;\n\n      ","\n    "])),e.theme.colors.accentColor,e.theme.dimensions.borderWidth,Object(l.f)({theme:e.theme}),((e,t,n)=>{switch(e){case"direct":return Object(u.c)(N||(N=Object(i.a)(["\n        ","\n      "])),D.f);case"indirect":return Object(u.c)(_||(_=Object(i.a)(["\n        color: ",";\n        background-color: ","40;\n\n        :hover {\n          background-color: ","60;\n        }\n\n        :active {\n          background-color: ","50;\n        }\n\n        ","\n      "])),n.colors.accentColor,n.colors.accentColor,n.colors.accentColor,n.colors.accentColor,D.d);case"no":return Object(u.c)(I||(I=Object(i.a)(["\n        ","\n      "])),D.g)}})(e.active,e.collapsed,e.theme),e.theme.dimensions.bigSpacing,e.theme.dimensions.blockHeight,(t=e.collapsed,n=e.theme,t?n.dimensions.borderRadius:"".concat(n.dimensions.borderRadius," ").concat(n.dimensions.borderRadius," 0 0")),e.theme.fontSizes.content,e.collapsed?"":Object(u.c)(L||(L=Object(i.a)(["\n            border-bottom-color: ",";\n          "])),e.theme.colors.accentColor));var t,n});var B,z,M,U;const W=Object(u.d)(f.a)(e=>{let{$collapsed:t,theme:n}=e;return Object(u.c)(B||(B=Object(i.a)(["\n    transition: all "," ease-out;\n    height: 32px;\n    width: 32px !important;\n    padding: 8px;\n    margin: 0 -8px;\n    ","\n  "])),n.timings.transitionTime,t?Object(u.c)(z||(z=Object(i.a)([""]))):Object(u.c)(M||(M=Object(i.a)(["\n          transform: rotate(180deg);\n        "]))))}),H=u.d.div(e=>{let{theme:t}=e;return Object(u.c)(U||(U=Object(i.a)(["\n    .aliaslist {\n      border-color: ",";\n    }\n  "])),t.colors.backgroundColor2)});function G(e){const{name:t,count:n,modifier:c,type:r,isActive:o,detailed:i,onClick:u,onContextMenu:l,aliases:d}=e,[f,h]=Object(a.useState)(null),[g,O]=Object(b.a)(!0),p=Object(a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(e)},[u]),m=Object(a.useCallback)(e=>{e.stopPropagation(),O()},[O]),v=Object(a.useCallback)(e=>{"Enter"===e.key&&p(e)},[p]),w=s.a.useCallback(e=>{e.stopPropagation(),e.preventDefault(),null===l||void 0===l||l(e)},[l]);return Object(x.jsxs)(H,{children:[Object(x.jsxs)(F,{active:o,collapsed:g,onClick:p,onKeyDown:v,onContextMenu:w,ref:h,tabIndex:0,role:"listitem",children:[i&&Object(x.jsx)(j.a,{type:r}),Object(x.jsx)(y,{modifier:c,name:t,count:n}),i&&d&&d.length>0&&Object(x.jsx)(W,{onClick:m,$collapsed:g,title:"Show aliases"})]}),i&&d&&d.length>0&&!g&&f&&Object(x.jsx)(A,{aliases:d,modifier:c,parentRef:f})]})}function V(e){const{tag:t,isActive:n,detailed:c,onClick:r}=e,{name:o,tags:i}=t,a=Object.keys(i).length;return Object(x.jsx)(G,{name:o,modifier:"+",type:"supertag",count:a,isActive:n,detailed:c,onClick:r})}var q,K=n(10);function Y(e){const{tag:t,detailed:n,onClick:c,isActive:r,onContextMenu:o}=e,{name:i,count:a,modifier:s,types:u}=t,l=Object(h.c)(K.d)[i];return Object(x.jsx)(G,{name:i,modifier:s,type:Object(d.d)(u),count:a,isActive:r,detailed:n,onClick:c,onContextMenu:o,aliases:l})}function J(e){const{tag:t,isActive:n,detailed:c,onClick:r,onContextMenu:o}=e,i=Object(d.g)(t)||Object(d.e)(t)?t:Object(d.a)(t,"+"),s=Object(a.useCallback)(e=>{null===e||void 0===e||e.stopPropagation(),r(i)},[r,i]),u=Object(a.useCallback)(e=>{o(i)},[i,o]);return Object(d.g)(i)?Object(x.jsx)(V,{tag:i,isActive:n,detailed:c,onClick:s}):Object(x.jsx)(Y,{tag:i,isActive:n,detailed:c,onClick:s,onContextMenu:u})}const Q=u.d.div(q||(q=Object(i.a)(["\n  ","\n"])),l.i);function X(e){const{tags:t,className:n,detailed:c,children:r=null,onTagClick:o,getIsActive:i,onTagMenu:a}=e;return Object(x.jsxs)(Q,{className:n,role:"list",children:[Object.entries(t).map(e=>{let[t,n]=e;return Object(x.jsx)(J,{detailed:c,tag:n,onClick:o,onContextMenu:a,isActive:(null===i||void 0===i?void 0:i(n))||"no"},t)}),r]})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c,r=n(5),o=n(4);function i(e){let{theme:t}=e;return Object(o.c)(c||(c=Object(r.a)(["\n    filter: drop-shadow(0 1px "," ",");\n  "])),t.shadow.radius,t.shadow.color)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c,r,o=n(5),i=n(4);const a=i.d.div(e=>Object(i.c)(c||(c=Object(o.a)(["\n    align-self: stretch;\n    height: 1px;\n    background: ",";\n  "])),e.theme.colors.layerBgHighlight));i.d.div(e=>Object(i.c)(r||(r=Object(o.a)(["\n    width: 1px;\n    align-self: stretch;\n    background: ",";\n  "])),e.theme.colors.layerBgHighlight))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var c=n(1);function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=Object(c.useState)(e),r=Object(c.useCallback)(()=>n(!t),[t]),o=Object(c.useCallback)(()=>n(e),[e]);return[t,r,o]}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c=n(1),r=n(11),o=n(6),i=n(10);function a(){const e=Object(r.b)(),t=Object(r.c)(i.b);return Object(c.useCallback)(n=>{n.name in t?e(Object(o.I)(n.name)):e(Object(o.A)(n))},[t,e])}},,function(e,t,n){"use strict";n.d(t,"a",function(){return q});var c,r,o,i,a=n(5),s=n(1),u=n.n(s),l=n(11),d=n(4),b=n(109),f=n.n(b),j=n(15),h=n(95),g=n(16),O=n(6),p=n(10),m=n(21),v=n(66),x=n(53),y=n(2);const w=d.d.div(e=>{let{theme:t}=e;return Object(d.c)(c||(c=Object(a.a)(["\n    display: grid;\n    grid-template-columns: 48px 1fr auto;\n    background: ",";\n    padding: "," 0;\n    align-items: center;\n    cursor: pointer;\n  "])),t.colors.backgroundColor2,t.dimensions.bigSpacing)}),k=d.d.span(r||(r=Object(a.a)(["\n  grid-column: 2/3;\n"]))),C=d.d.span(e=>{let{theme:t}=e;return Object(d.c)(o||(o=Object(a.a)(["\n    grid-column: 3/4;\n    padding-right: ",";\n  "])),t.dimensions.bigSpacing)}),S=d.d.div(i||(i=Object(a.a)(["\n  grid-column: 1/2;\n  text-align: center;\n"])));function E(e){const{name:t,count:n,type:c,onClick:r}=e,o="supertag"===c?"tags":"posts";return Object(y.jsxs)(w,{onClick:r,role:"listitem",children:[Object(y.jsx)(S,{children:Object(y.jsx)(v.a,{type:c})}),Object(y.jsx)(k,{children:Object(x.e)(t)}),Object(y.jsxs)(C,{title:"".concat(n," ").concat(o),children:[n&&Object(x.a)(n)," ",o]})]})}var R,T=n(13);const A=d.d.div(e=>{let{theme:t}=e;return Object(d.c)(R||(R=Object(a.a)(["\n    ","\n    flex-wrap: wrap;\n    min-height: ","; // COMPAT: Kiwi Browser\n    background: ",";\n    padding: 6px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n  "])),T.f,t.dimensions.blockHeight,t.colors.backgroundColor2)});var N,_,I,P=n(26),L=n(67),D=n(42);const F=d.d.div(e=>{let{theme:t,tagSelectorRef:n}=e;return Object(d.c)(I||(I=Object(a.a)(["\n    ","\n    ","\n    ",";\n    background: lightgrey;\n    box-sizing: border-box;\n    border: "," "," solid;\n    border-top: none;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: ",";\n\n    ","\n  "])),Object(T.d)(),Object(P.c)("1px"),function(e){if(e){const{offsetTop:t,clientHeight:n,offsetLeft:c,clientWidth:r}=e;return Object(d.c)(N||(N=Object(a.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n    "])),t+n,c,r)}return Object(d.c)(_||(_=Object(a.a)(["\n      display: none;\n    "])))}(n),t.dimensions.borderWidth,t.colors.accentColor,D.a.DROPDOWN,L.a)});function B(e){const{tagSelectorRef:t,entries:n,onClick:c,error:r}=e;return Object(y.jsx)(F,{tagSelectorRef:t,role:"list",children:r?Object(y.jsxs)(A,{role:"listitem",children:[Object(y.jsxs)("span",{children:[r.message,"."]}),Object(y.jsxs)("span",{children:[r.results," tags found"]})]}):n.map(e=>{const t=Object(j.g)(e)?"supertag":Object(j.d)(e.types),n=Object(j.g)(e)?Object.keys(e.tags).length:e.count;return Object(y.jsx)(E,{onClick:()=>c(e),name:e.name,type:t,count:n},e.name)})})}var z;const M=d.d.input(e=>Object(d.c)(z||(z=Object(a.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: "," "," solid;\n    border-bottom: "," "," solid;\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.dimensions.borderWidth));function U(e){const{value:t,setValue:n,onSubmit:c}=e,r=Object(s.useCallback)(e=>{n(e.target.value)},[n]),o=Object(s.useCallback)(e=>{"Enter"===e.key&&c()},[c]);return Object(y.jsx)(M,{id:"tag-input",value:t,onChange:r,onKeyDown:o,placeholder:"Search for tags","aria-label":"Search"})}var W,H,G;const V=d.d.form(e=>Object(d.c)(W||(W=Object(a.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),e.closed?Object(d.c)(H||(H=Object(a.a)(["\n          border-radius: ",";\n        "])),e.theme.dimensions.borderRadius):Object(d.c)(G||(G=Object(a.a)(["\n          border-radius: "," "," 0 0;\n\n          > "," {\n            border-radius: 0 "," 0 0;\n          }\n\n          > "," {\n            border-radius: "," 0 0 0;\n          }\n        "])),e.theme.dimensions.borderRadius,e.theme.dimensions.borderRadius,m.a,e.theme.dimensions.borderRadius,m.e,e.theme.dimensions.borderRadius)));function q(e){const{onSubmit:t,showSupertags:n}=e,c=Object(l.b)(),[r,o]=u.a.useState(""),[i,a]=u.a.useState(null),[s,d]=Object(h.a)(),b=Object(l.c)(p.E),v=Object(l.c)(p.F),x=u.a.useCallback(e=>{const n=Object(j.g)(e)?e:Object(j.a)(e,s);t(n),o("")},[s,t]);f()(()=>{""===r?b.length>0&&c(Object(O.Q)([])):c(Object(O.D)(r,n))},300,[r]);const w=u.a.useCallback(()=>{if(r.trim()){const e=Object(j.h)(r),t=b.find(t=>t.name===e);x(t||{name:e,types:[]})}},[r,x,b]),k=b.length>0||null!==v,C=u.a.useCallback(e=>e.preventDefault(),[]);return Object(y.jsxs)(V,{ref:a,closed:!k,onSubmit:C,children:[Object(y.jsx)(m.e,{onClick:d,"aria-label":"Tag Modifier",title:"Cycle tag modifier",children:s}),Object(y.jsx)(U,{value:r,setValue:o,onSubmit:w}),Object(y.jsx)(m.a,{onClick:w,"aria-label":"Add Tag",children:Object(y.jsx)(g.G,{title:"Add tag"})}),k&&r.length>0&&Object(y.jsx)(B,{tagSelectorRef:i,entries:b,error:v,onClick:x})]})}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var c=n(3),r=n(1),o=n(33),i=n(16),a=n(21),s=n(2);function u(e){const t=Object(r.useCallback)(async()=>{var e;null===(e=localStorage)||void 0===e||e.clear(),await Object(o.k)(),window.location.hash="",window.location.reload()},[]);return Object(s.jsxs)(a.b,Object(c.a)(Object(c.a)({onClick:t},e),{},{children:[Object(s.jsx)(i.M,{})," Reset Application"]}))}},,,,function(e,t,n){"use strict";t.a=n.p+"static/media/OutOfResults.9c71691c.png"},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var c,r=n(5),o=(n(1),n(4)),i=n(2);const a=o.d.svg(c||(c=Object(r.a)(["\n  height: 32px;\n  padding: 8px;\n  color: white;\n"])));function s(){return Object(i.jsxs)(a,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve",children:[Object(i.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"6",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})}),Object(i.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"25",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})}),Object(i.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"44",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})})]})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var c=n(4),r=n(2);function o(e){const t=Object(c.f)();return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7",className:e.className,children:Object(r.jsxs)("g",{transform:"translate(0,-284.3)",children:[Object(r.jsx)("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:t.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),Object(r.jsx)("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:t.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)",children:Object(r.jsx)("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:t.colors.accentColor,fillOpacity:"1",children:"34"})})]})})}},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var c=n(1),r=n(11),o=n(10),i=n(6);const a=["+","-","~"];function s(){const e=Object(r.b)(),t=Object(r.c)(o.G),n=Object(c.useCallback)(()=>e(Object(i.S)(a[(a.indexOf(t)+1)%a.length])),[e,t]);return[t,n]}},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var c=n(3),r=n(1),o=n.n(r),i=n(11),a=n(15),s=n(19),u=n(97),l=n(84),d=n(16),b=n(6),f=n(10),j=n(21),h=n(80),g=n(2);function O(e){const{onChange:t=s.b,offerSupertags:n=!1}=e,O=Object(i.b)(),p=Object(i.c)(f.b),m=Object(i.c)(f.p),v=Object(r.useCallback)(()=>O(Object(b.H)(s.a.CREATE_SUPERTAG)),[O]),x=Object(l.a)(),y=Object(u.a)(),w=o.a.useCallback(e=>{if(!Object(a.g)(e)){const t=["+","-","~"],n=t[(t.indexOf(e.modifier)+1)%3];O(Object(b.A)(Object(c.a)(Object(c.a)({},e),{},{modifier:n})))}},[O]);return Object(r.useEffect)(()=>t(),[t,p]),m>0?Object(g.jsx)(h.a,{tags:p,onTagClick:x,getIsActive:y,onTagMenu:w,detailed:!0,children:n&&Object.keys(p).length>1&&Object(g.jsx)(j.f,{onClick:v,title:"Create a supertag",children:Object(g.jsx)(d.I,{})})}):null}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c=n(1),r=n(11),o=n(10);const i=()=>{const e=Object(r.c)(o.b),t=Object(r.c)(o.a);return Object(c.useCallback)(n=>n.name in e?"direct":n.name in t?"indirect":"no",[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c=n(1),r=n(11),o=n(6);const i=()=>{const e=Object(r.b)();return Object(c.useCallback)(t=>{e(Object(o.A)(t))},[e])}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(121);var c=n(165),r=n(164),o=n(60),i=n.n(o),a=n(1),s=n.n(a),u=n(99),l=n(11),d=n(58),b=n(22),f=n(103),j=n(4);class h extends s.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback:this.props.children}}var g=n(19);const O={"/":()=>{var e;return null===(e=document.getElementById("tag-input"))||void 0===e?void 0:e.focus()},"ctrl+1":()=>window.location.hash="#".concat(g.c.SEARCH),"ctrl+2":()=>window.location.hash="#".concat(g.c.PREFERENCES),"ctrl+3":()=>window.location.hash="#".concat(g.c.ABOUT)};function p(){return s.a.useEffect(()=>{const e=e=>{const t="".concat(e.ctrlKey?"ctrl+":"").concat(e.key);t in O&&(e.preventDefault(),e.stopPropagation(),O[t]())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),null}var m,v,x=n(5),y=n(87),w=n(91),k=n(61),C=n(52),S=Object(j.b)(e=>{let{theme:t}=e;return Object(j.c)(m||(m=Object(x.a)(["\n    p,\n    a,\n    button,\n    span,\n    div,\n    select,\n    input {\n      font-family: 'Raleway', sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      font-size: ",";\n    }\n\n    html {\n      background-color: ",";\n    }\n\n    body {\n      font-size: ",";\n      color: ",";\n      background-color: ",";\n      transition: color 0.4s, background-color 0.4s;\n\n      // always show scrollbar to prevent layout shifts when changing pages\n      overflow-y: scroll;\n    }\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n\n    // Not a touch device\n    // Touch devices have nice scrollbars by default\n    @media (pointer: fine) {\n      // Underline stuff that is focused on non-touch devices\n      // makes keyboard navigation clearer\n      button,\n      input,\n      select {\n        &:focus {\n          text-decoration: underline;\n        }\n      }\n\n      ::-webkit-scrollbar {\n        height: 8px;\n        transition: all "," ease-in-out;\n\n        :hover {\n          background: ",";\n        }\n      }\n\n      /* Track */\n      ::-webkit-scrollbar-track {\n        background: transparent;\n      }\n\n      /* Handle */\n      :hover {\n        ::-webkit-scrollbar {\n          background: ",";\n        }\n      }\n\n      ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 1000px;\n\n        :hover {\n          background: ",";\n        }\n      }\n    }\n  "])),t.fontSizes.content,t.colors.backgroundColor,t.fontSizes.content,t.colors.text,t.colors.backgroundColor,t.colors.accentColor,t.timings.transitionTime,t.colors.layerBg,t.colors.layerBg,t.colors.layerBg,t.colors.layerBgHighlight)}),E=n(21),R=n(16),T=n(2);const A=j.d.div(v||(v=Object(x.a)(["\n  height: 100vh;\n  width: 100%;\n  display: grid;\n  place-items: center;\n  align-content: center;\n  padding: 30px;\n  background: ",";\n\n  > * {\n    margin-bottom: 10px;\n  }\n"])),e=>{let{theme:t}=e;return t.colors.backgroundColor});function N(){const e=C.themes[C.defaultThemeId];return Object(T.jsxs)(A,{theme:e,children:[Object(T.jsx)(S,{theme:e}),Object(T.jsx)(k.a,{src:w.a,alt:"Cute image to make unexpected crash more bearable"}),Object(T.jsx)("h1",{children:"Sorry about that..."}),Object(T.jsx)("p",{children:"A page reload might help:"}),Object(T.jsxs)(E.b,{onClick:()=>window.location.reload(),children:[Object(T.jsx)(R.M,{})," Reload"]}),Object(T.jsx)("p",{children:"If the issue persists try resetting the app"}),Object(T.jsx)(y.a,{theme:e})]})}var _,I=n(92);const P=j.d.div(_||(_=Object(x.a)(["\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  place-items: center;\n  background: black;\n"])));function L(){return Object(T.jsx)(P,{children:Object(T.jsx)(I.a,{})})}var D,F,B=n(26),z=n(70),M=n(51),U=n(41),W=n(79);const H=Object(j.d)(M.b)(e=>{let{theme:t}=e;return Object(j.c)(D||(D=Object(x.a)(["\n    padding: ",";\n    ",";\n  "])),t.dimensions.hugeSpacing,Object(B.e)(t.dimensions.hugeSpacing))}),G=Object(j.d)(z.b)(F||(F=Object(x.a)(["\n  flex-grow: 1;\n"])));function V(){return document.title="Rule34 React - Terms of Service",Object(T.jsxs)(z.a,{children:[Object(T.jsx)(W.a,{}),Object(T.jsxs)(G,{children:[Object(T.jsx)(U.d,{children:"Terms of Service"}),Object(T.jsxs)(H,{children:[Object(T.jsx)("p",{children:"Because this website is basically just a really powerful looking glass, I do not impose any additional terms or conditions on you."}),Object(T.jsx)("p",{children:"However, terms for the technologies this app uses still apply. Therefore, you should read the following terms."}),Object(T.jsx)("a",{href:"https://policies.google.com/terms",children:"Google - Privacy & Terms"}),Object(T.jsx)("a",{href:"https://rule34.xxx/tos.php",children:"Rule34 - Terms of Serivce"}),Object(T.jsx)(U.b,{children:"If you have any questions feel free to contact me via Discord"}),Object(T.jsxs)(E.d,{href:" https://discord.gg/yyJFG5PVBZ",children:[Object(T.jsx)(R.m,{}),"Discord"]})]})]})]})}var q,K,Y=n(48),J=n(6),Q=n(13),X=n(42);const $=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(q||(q=Object(x.a)(["\n    display: grid;\n    place-items: center;\n    ","\n    z-index: ",";\n    padding: ",";\n    background: ",";\n  "])),Q.g,X.a.MODAL,t.dimensions.hugeSpacing,t.colors.backdrop)}),Z=Object(j.d)(M.a)(e=>{let{theme:t}=e;return Object(j.c)(K||(K=Object(x.a)(["\n    ","\n    max-width: ",";\n    max-height: 100vh;\n    overflow-y: auto;\n    overscroll-behavior: none;\n  "])),Q.e,t.dimensions.modalWidth)});function ee(e){const{children:t}=e,n=Object(Y.a)(J.B),c=Object(a.useCallback)(e=>e.stopPropagation(),[]);return Object(T.jsx)($,{onClick:n,title:"Close modal",children:Object(T.jsx)(Z,{onClick:c,title:"",children:t})})}var te,ne=n.p+"static/media/eeek.ff41d889.png",ce=n(65),re=n(50);const oe=j.d.div(te||(te=Object(x.a)(["\n  ","\n\n  > "," {\n    flex-grow: 1;\n  }\n"])),Q.f,E.f);function ie(){const e=Object(Y.a)(J.B),t=Object(Y.a)(J.F),n=Object(a.useCallback)(()=>{t(),e()},[e,t]),c=Object(a.useCallback)(()=>{e()},[e]),[r,o]=Object(re.a)("autoPlay"),i=Object(a.useCallback)(()=>o(!r),[r,o]),[s,u]=Object(re.a)("preloadVideos"),l=Object(a.useCallback)(()=>u(!s),[s,u]),[d,b]=Object(re.a)("originals"),f=Object(a.useCallback)(()=>b(!d),[d,b]);return Object(T.jsxs)(ee,{children:[Object(T.jsx)(k.a,{src:ne}),Object(T.jsx)(U.d,{children:"Wait!"}),Object(T.jsx)(U.b,{children:"You are on cellular and have some features enabled that will consume a lot of data. Are you sure this is intended?"}),Object(T.jsx)(ce.a,{value:r,onToggle:i,children:"Auto-play Animations"}),Object(T.jsx)(ce.a,{value:s,onToggle:l,children:"Preload Animations"}),Object(T.jsx)(ce.a,{value:d,onToggle:f,children:"Load original sizes"}),Object(T.jsxs)(oe,{children:[Object(T.jsxs)(E.f,{onClick:n,children:[Object(T.jsx)(R.H,{})," Yes"]}),Object(T.jsxs)(E.f,{onClick:c,children:[Object(T.jsx)(R.q,{})," No"]})]})]})}var ae,se;const ue=Object(j.d)(M.a)(e=>{let{theme:t}=e;return Object(j.c)(ae||(ae=Object(x.a)(["\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: ",";\n    background: ",";\n    z-index: ",";\n  "])),t.colors.text,t.colors.layerBgSolid,X.a.COOKIEBAR)}),le=j.d.span(se||(se=Object(x.a)(["\n  height: min-content;\n"])));function de(){const[,e]=Object(re.a)("cookies"),t=Object(a.useCallback)(()=>e(!0),[e]);return Object(T.jsxs)(ue,{children:[Object(T.jsx)(le,{children:"This website uses cookies."}),Object(T.jsx)(E.f,{onClick:t,"aria-label":"Allow Cookies",title:"Accept Cookie usage",children:"Okay"})]})}var be,fe=n(3),je=n(33),he=n(10),ge=n(25),Oe=n(82),pe=n(86),me=n(96),ve=n(15),xe=n(98);const ye=j.d.input(e=>{let{theme:t}=e;return Object(j.c)(be||(be=Object(x.a)(["\n    ","\n    background-color: ",";\n    ","\n    text-align: left;\n  "])),ge.b,t.colors.backgroundColor2,Q.c)});function we(){const[e,t]=Object(a.useState)(""),[n,c]=Object(a.useState)(""),r=Object(l.c)(he.b),o=Object(l.b)(),i=Object(xe.a)(),s=Object(Y.a)(J.B),u=Object.values(r).filter(e=>!Object(ve.g)(e)).reduce((e,t)=>Object(fe.a)(Object(fe.a)({},e),{},{[t.name]:t.modifier}),{}),d=Object(a.useCallback)(()=>{Object(je.a)(e,n,u).then(()=>{Object.keys(u).forEach(e=>o(Object(J.I)(e))),i({name:e,description:n,tags:u}),s()}).catch(e=>console.error("Failed to create supertag",e))},[i,s,n,o,e,u]);return Object(T.jsxs)(ee,{children:[Object(T.jsx)(U.d,{children:"Create Supertag"}),Object(T.jsx)(Oe.a,{}),Object(T.jsx)(ye,{type:"text",placeholder:"Name",value:e,onChange:e=>t(e.target.value)}),Object(T.jsx)(ye,{type:"text",placeholder:"Description",value:n,onChange:e=>c(e.target.value)}),Object(T.jsx)(pe.a,{showSupertags:!1,onSubmit:i}),Object(T.jsx)(me.a,{}),Object(T.jsx)(E.b,{onClick:d,children:"Create"})]})}var ke=n(40),Ce=n(69),Se=n(110),Ee=n.n(Se),Re=n(47),Te=function(e){return e.SEARCH="r34_search",e}(Te||{});var Ae=e=>t=>n=>{const c=e.getState();if(Object(he.i)(c)&&(n.type===J.b||n.type===J.s)){const e=Object(he.r)(c);Object(je.e)((r=e,{id:Te.SEARCH,payload:{page_number:r}}))}var r;t(n)},Ne=n(18);const _e={rated:!1,ratedThreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20,resultsLayout:"infinite_column",pageSize:20,showMetadata:!1,showComments:!1,sort:"date:desc",themeId:"dark",autoPlay:!1,hideSeen:!1,autoscrollDelay:10,showPostDetails:!0,backends:["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"]};var Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.t:return function(e,t,n){return Object(Ne.a)(e,e=>{e[t]=n})}(e,t.key,t.value);case J.u:return function(e,t){return Object(Ne.a)(e,e=>{Object.assign(e,t)})}(e,t.preferences);default:return e}};let Pe=null;var Le=e=>t=>async n=>{if(n.type===J.t&&(Pe?(clearTimeout(Pe),Pe=null):Pe=setTimeout(()=>{e.dispatch(Object(J.J)()),Pe=null},1e4)),n.type===J.h){const t=await je.b();if(t){const n=Object(fe.a)(Object(fe.a)({},_e),t);e.dispatch(Object(J.P)(n))}}if(n.type===J.o){const{preferences:t}=e.getState();je.h(t)}t(n)},De=n(64),Fe=n(76);const Be=new class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.currentBackend=void 0,this.backends=void 0,this.useFirebase=void 0,this.postLimit=void 0,this.tagLimit=void 0,this.version=void 0,this.requestRetries=void 0,this.verbose=void 0,this.parseComment=e=>{let t={};for(const n of e)t[n.name]=n.value;return t},this.backends="string"===typeof e?[e]:[...e],this.version=t.version||"v2",this.useFirebase=t.useFirebase||!1,this.postLimit=t.postLimit||20,this.tagLimit=t.tagLimit||20,this.requestRetries=t.requestRetries||1,this.verbose=t.verbose||!1,this.currentBackend=0,this.useFirebase&&Object(je.d)()}useNextBackend(){this.currentBackend=(this.currentBackend+1)%this.backends.length}getFullUrl(e,t){const n=this.backends[this.currentBackend],c=this.version,r=Object(De.a)(t).toString();return new URL("".concat(n,"/").concat(c,"/").concat(e,"?").concat(r))}async fetchWithFailover(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=this.getFullUrl(e,Object(fe.a)({},t));return fetch(r.toString(),n).then(o=>!o.ok&&this.backends.length>1&&c<this.requestRetries?(this.verbose&&console.warn("Fetch failed against ".concat(r,". Status: ").concat(o.status,". Retrying against next backend.\nDetails:"),o),this.useNextBackend(),this.fetchWithFailover(e,t,n,c+1)):o)}async fetchTags(e){var t;console.log(e);const n=null===(t=e.name)||void 0===t?void 0:t.replaceAll(" ","_"),c=await fetch("".concat("https://api.rule34.xxx/autocomplete.php?q=").concat(n));if(c.ok){const e=await c.json();if(Array.isArray(e)){if(0===e.length)throw new Error("No tags found");return e.map(e=>({name:e.value,count:Number(e.label.substring(e.label.lastIndexOf("(")+1,e.label.length-1)),types:["ambiguous"]}))}return e.message?e:{message:"Invalid tag suggestions received",results:0}}return{message:"Failed to load suggestions",results:0}}async getTags(e){try{const n=await this.fetchTags(e);if(Object(Fe.a)(n))return n;let c=n;const r=e.name;if(e.supertags&&r)try{const e=r.replaceAll("*","").toLowerCase(),t=await Object(je.c)();if(t){const n=Object.entries(t).filter(t=>{let[n,c]=t;return n.toLowerCase().includes(e)}).map(e=>{let[t,n]=e;return Object(fe.a)({name:t},n)});c=[...n,...c]}}catch(t){}return c}catch(n){return console.warn("Failed to get tags:",n),[]}}getPostsUrl(e,t,n){const c="https://rule34-api.netlify.app/posts?limit=".concat(t.toString(),"&pid=").concat(e);return""===n?c:"".concat(c,"&tags=").concat(n)}getCountUrl(e){const t="https://rule34-api.netlify.app/count";return""===e?t:"".concat(t,"?tags=").concat(e)}async getPosts(e){try{var t,n;let r={limit:null!==(t=e.limit)&&void 0!==t?t:this.postLimit,pid:null!==(n=e.page)&&void 0!==n?n:0,tags:""};e.tags&&(r.tags+=Object(Fe.b)(e.tags)),e.score&&(r.tags+="+score:".concat(e.score)),e.sort&&"date:desc"!==e.sort&&(r.tags+="+sort:".concat(e.sort));const o=await fetch(this.getPostsUrl(r.pid,r.limit,r.tags)),i=await fetch(this.getCountUrl(r.tags)),a=await i.text(),s=(new DOMParser).parseFromString(a,"text/xml"),u=Number(s.getElementsByTagName("posts")[0].getAttribute("count"));let l=[];try{let e=await o.json();e=e.filter(e=>e.change),l=e.map(this.parsePost)}catch(c){console.warn("Failed to get posts",c),l=[]}return{count:u,posts:l}}catch(r){return console.warn("Failed to get posts:",r),{count:0,posts:[]}}}parsePost(e){const t=e.height,n=e.score,c=e.file_url,r=e.parent_id,o=e.sample_url,i=e.sample_width,a=e.sample_height,s=e.preview_url,u=e.rating,l=e.tags,d=e.id,b=e.width,f=e.change,j=e.comment_count,h=e.status,g=e.source;return{preview_url:s,sample_url:o,file_url:c,height:Number(t),id:Number(d),change:Number(f),has_comments:Boolean(Number(j)>0),parent_id:r?Number(r):null,rating:u,sample_height:Number(a),sample_width:Number(i),score:Number(n),source:g,status:h,tags:l.split(" ").filter((e,t,n)=>""!==e&&n.indexOf(e)===t),width:Number(b),comments_url:"",creator_url:"",type:c.endsWith(".webm")||c.endsWith(".mp4")?"video":c.includes(".gif")?"gif":"image"}}async getAliases(e){try{return await(await this.fetchWithFailover("alias/"+e.name)).json()}catch(t){return console.warn("Failed to get aliases:",t),[]}}async getComments(e){try{const t=await fetch(e.commentsUrl),n=await t.text(),c=(new DOMParser).parseFromString(n,"text/xml"),r=[];for(const e of c.getElementsByTagName("comment")){const t=this.parseComment(e.attributes);r.push(t)}return r}catch(t){return console.warn("Failed to get comments:",t),[]}}async getArtist(e){try{return await(await this.fetchWithFailover("artist",e)).json()}catch(t){return void console.warn("Failed to get aliases:",t)}}}(["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"],{version:"v2",useFirebase:!0,requestRetries:1,verbose:!0});var ze=e=>t=>async n=>{const c=e.getState(),r=Object(he.l)(c);var o,i;(n.type===J.t&&"backends"===n.key&&(Be.backends=n.value),"persist/REHYDRATE"===n.type)&&(null!==n&&void 0!==n&&null!==(o=n.payload)&&void 0!==o&&null!==(i=o.preferences)&&void 0!==i&&i.backends&&(Be.backends=n.payload.preferences.backends));if(n.type===J.k){const t=Object(he.b)(c),r=Object(he.s)(c),o=Object(he.o)(c),i=Object(he.D)(c),a=await Be.getPosts({tags:t,limit:r,page:n.pageNumber,score:">=".concat(o),sort:i});e.dispatch(Object(J.N)(a.posts,a.count,n.pageNumber))}if(n.type===J.j&&r){const t=Object(he.b)(c),n=Object(he.r)(c),r=Object(he.s)(c),o=Object(he.o)(c),i=Object(he.D)(c),a=await Be.getPosts({tags:t,limit:r,page:n+1,score:">=".concat(o),sort:i});e.dispatch(Object(J.z)(a.posts))}if(n.type===J.c){const t=Object(he.b)(c);let r=[];try{r=await Be.getAliases({name:n.tag.name})}catch(a){console.warn("Failed toget aliases for tag:",n.tag)}const o=r.sort((e,t)=>t.count-e.count).filter(e=>!(e.name in t)).map(e=>{let{name:t,count:n}=e;return{name:t,count:n,types:[]}});if(e.dispatch(Object(J.y)(o,n.tag.name)),!Object(ve.g)(n.tag)&&0===n.tag.types.length)try{const e=await Be.getTags({name:n.tag.name,limit:1});if(!Object(ve.f)(e)){const t=e.find(e=>e.name===n.tag.name);t&&!Object(ve.g)(t)&&(n.tag.types=t.types,n.tag.count=t.count)}}catch(a){console.warn("Failed to get types for tag:",n.tag)}}if(n.type===J.l&&fetch("https://rule34.xxx/index.php?page=post&s=vote&id=".concat(n.postId,"&type=up"),{mode:"no-cors"}).then(()=>{}).catch(e=>{console.warn("Upvote rejected",e)}),n.type===J.i){const t=Object(he.I)(c),r=await Be.getTags({name:Object(ve.h)(n.value),limit:t,supertags:n.includeSupertags,sort:"count"});Object(ve.f)(r)?e.dispatch(Object(J.R)(r)):e.dispatch(Object(J.Q)(r))}if(n.type===J.g){const t=Object(he.t)(n.postId)(c);if(t){const c="https://rule34-api.netlify.app/comments?post_id=".concat(t.id),r=await Be.getComments({commentsUrl:c});e.dispatch(Object(J.L)(n.postId,r))}}t(n)},Me=n(111);var Ue=Object(Me.composeWithDevTools)(Object(ke.applyMiddleware)(Ae,ze,Le));const We={278:e=>Object(fe.a)(Object(fe.a)({},e),{},{reader:void 0}),279:e=>Object(fe.a)(Object(fe.a)({},e),{},{preferences:Object(fe.a)(Object(fe.a)({},e.preferences),{},{autoscrollDelay:10})}),285:e=>"electric"===e.preferences.themeId?Object(fe.a)(Object(fe.a)({},e),{},{preferences:Object(fe.a)(Object(fe.a)({},e.preferences),{},{themeId:"deepsea"})}):e,288:e=>Object(fe.a)(Object(fe.a)({},e),{},{preferences:Object(fe.a)(Object(fe.a)({},e.preferences),{},{showPostDetails:!0})}),289:e=>Object(fe.a)(Object(fe.a)({},e),{},{preferences:Object(fe.a)(Object(fe.a)({},e.preferences),{},{backends:["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"]})}),301:e=>Object(fe.a)(Object(fe.a)({},e),{},{preferences:Object(fe.a)(Object(fe.a)({},e.preferences),{},{backends:["https://json-api.onrender.com"]})})},He={posts:[],pageNumber:0,count:0,updated:0};var Ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.b:return((e,t)=>Object(Ne.a)(e,n=>{n.posts=[...e.posts,...t],n.pageNumber=e.pageNumber+1,n.updated=(new Date).getTime()}))(e,t.posts);case J.s:return function(e,t,n){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(Ne.a)(e,e=>{e.posts=t,e.count=n,e.pageNumber=c,e.updated=(new Date).getTime()})}(e,t.posts,t.count,t.pageNumber);case J.q:return((e,t,n)=>Object(Ne.a)(e,c=>{const r=e.posts.findIndex(e=>e.id===t);r>=0&&(c.posts[r].comments=n)}))(e,t.postId,t.comments);default:return e}};const Ve={active:{},aliases:{}};var qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.c:return((e,t)=>Object(Ne.a)(e,n=>{n.active[t.name]=Object(fe.a)(Object(fe.a)({},e.active[t.name]),t)}))(e,t.tag);case J.n:return((e,t)=>Object(Ne.a)(e,e=>{delete e.active[t],delete e.aliases[t]}))(e,t.tagName);case J.a:return((e,t,n)=>Object(Ne.a)(e,e=>{e.aliases[n]=t}))(e,t.aliases,t.forTag);default:return e}};const Ke={isEnabled:!1,currentIndex:0,scrollIndex:null},Ye={};var Je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;return t.type===J.l?((e,t)=>Object(Ne.a)(e,n=>{t in e||(n[t]=Date.now())}))(e,t.postId):e};const Qe={openModal:null},Xe=(e,t)=>Object(Ne.a)(e,e=>{e.openModal=t});var $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.m:return Xe(e,t.modalId);case J.d:return Xe(e,null);default:return e}};const Ze={entries:[],error:null,modifier:"+"};var et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.v:return((e,t)=>Object(Ne.a)(e,e=>{e.entries=t,e.error=null}))(e,t.suggestions);case J.w:return((e,t)=>Object(Ne.a)(e,e=>{e.entries=[],e.error=t}))(e,t.error);case J.x:return((e,t)=>Object(Ne.a)(e,e=>{e.modifier=t}))(e,t.modifier);default:return e}},tt=Object(ke.combineReducers)({tags:qe,results:Ge,preferences:Ie,fullscreen:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.e:return((e,t)=>Object(Ne.a)(e,e=>{e.isEnabled=!0,e.currentIndex=t}))(e,t.postId);case J.r:return((e,t)=>Object(Ne.a)(e,e=>{e.currentIndex=t}))(e,t.index);case J.f:return(e=>Object(Ne.a)(e,e=>{e.isEnabled=!1}))(e);case J.p:return((e,t)=>Object(Ne.a)(e,e=>{e.scrollIndex=t}))(e,t.index);default:return e}},likes:Je,suggestions:et,modals:$e});const nt=Object(Re.c)(),ct={key:"appstate",version:Object(Re.h)(nt),storage:Ee.a,migrate:Object(Ce.a)(We)},rt=Object(Ce.b)(ct,tt),ot=Object(ke.createStore)(rt,Ue),it=Object(Ce.c)(ot),at=s.a.lazy(()=>n.e(8).then(n.bind(null,206))),st=s.a.lazy(()=>n.e(10).then(n.bind(null,207))),ut=s.a.lazy(()=>Promise.all([n.e(5),n.e(0),n.e(7)]).then(n.bind(null,209))),lt=s.a.lazy(()=>Promise.all([n.e(1),n.e(6)]).then(n.bind(null,210))),dt=s.a.lazy(()=>Promise.all([n.e(1),n.e(9)]).then(n.bind(null,208))),bt=s.a.lazy(()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,211))),ft=Object(T.jsx)(L,{});function jt(){return Object(T.jsx)(h,{fallback:Object(T.jsx)(N,{}),children:Object(T.jsx)(l.a,{store:ot,children:Object(T.jsx)(f.a,{loading:ft,persistor:it,children:Object(T.jsx)(ht,{})})})})}function ht(){const e=Object(l.c)(he.i),t=Object(l.c)(he.h),n=Object(l.c)(he.H),c=Object(l.c)(he.c),r=C.themes[c||C.defaultThemeId];return Object(T.jsxs)(j.a,{theme:r,children:[Object(T.jsx)(S,{}),Object(T.jsx)(p,{}),Object(T.jsx)(u.a,{children:Object(T.jsx)("meta",{name:"theme-color",content:r.colors.layerBgSolid})}),Object(T.jsxs)(d.a,{children:[Object(T.jsx)(a.Suspense,{fallback:ft,children:Object(T.jsxs)(b.c,{children:[Object(T.jsx)(b.a,{exact:!0,path:g.c.ABOUT,component:at}),Object(T.jsx)(b.a,{exact:!0,path:g.c.PRIVACY,component:st}),Object(T.jsx)(b.a,{exact:!0,path:g.c.PREFERENCES,component:lt}),Object(T.jsx)(b.a,{exact:!0,path:g.c.STORIES,component:bt}),Object(T.jsx)(b.a,{exact:!0,path:g.c.TERMS,component:V}),Object(T.jsx)(b.a,{exact:!0,path:g.c.SHARE,component:dt}),Object(T.jsx)(b.a,{path:g.c.SEARCH,component:ut})]})}),n&&Object(T.jsx)(we,{}),t&&Object(T.jsx)(ie,{}),!e&&Object(T.jsx)(de,{})]})]})}const gt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ot(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}c.a({dsn:"https://1a2933d829da41fe84d4dab5fcc520ae@o955708.ingest.sentry.io/5905045",integrations:[new r.a],tracesSampleRate:1,release:Object(Re.d)(),allowUrls:[/https:\/\/kurozenzen\.github\.io(.*)/,/https:\/\/r34-json\.herokuapp\.com(.*)/],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose"],denyUrls:[/extensions\//i,/^chrome:\/\//i],beforeBreadcrumb(e,t){try{var n;if(null!==e&&void 0!==e&&null!==(n=e.category)&&void 0!==n&&n.startsWith("ui")){const n=null===t||void 0===t?void 0:t.event.target,c=n.tagName.toLowerCase();n.innerText?e.message="".concat(c,": ").concat(n.innerText):n.id?e.message="".concat(c,": ").concat(n.id):n.getAttribute("name")?e.message="".concat(c,": ").concat(n.getAttribute("name")):n.title?e.message="".concat(c,": ").concat(n.title):n.getAttribute("aria-label")?e.message="".concat(c,": ").concat(n.getAttribute("aria-label")):n.getAttribute("data-name")&&(e.message="".concat(c,": ").concat(n.getAttribute("data-name")))}}catch(c){}return e}}),i.a.render(Object(T.jsx)(jt,{}),document.getElementById("app-root")),function(e){if("serviceWorker"in navigator){if(new URL("/r34-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/r34-react","/service-worker.js");gt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Ot(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):Ot(t,e)})}}()}],[[155,3,4]]]);
//# sourceMappingURL=main.8cbcf8b6.chunk.js.map