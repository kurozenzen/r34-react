(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[2],[,,,,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return o})),t.d(n,"d",(function(){return a})),t.d(n,"e",(function(){return i})),t.d(n,"f",(function(){return u})),t.d(n,"g",(function(){return s})),t.d(n,"h",(function(){return d})),t.d(n,"i",(function(){return l})),t.d(n,"j",(function(){return f})),t.d(n,"k",(function(){return b})),t.d(n,"l",(function(){return p})),t.d(n,"m",(function(){return j})),t.d(n,"n",(function(){return h})),t.d(n,"o",(function(){return O})),t.d(n,"q",(function(){return g})),t.d(n,"r",(function(){return m})),t.d(n,"s",(function(){return v})),t.d(n,"t",(function(){return x})),t.d(n,"u",(function(){return k})),t.d(n,"v",(function(){return y})),t.d(n,"w",(function(){return w})),t.d(n,"x",(function(){return C})),t.d(n,"p",(function(){return S})),t.d(n,"A",(function(){return E})),t.d(n,"I",(function(){return R})),t.d(n,"y",(function(){return N})),t.d(n,"z",(function(){return T})),t.d(n,"N",(function(){return A})),t.d(n,"L",(function(){return I})),t.d(n,"C",(function(){return _})),t.d(n,"O",(function(){return P})),t.d(n,"P",(function(){return L})),t.d(n,"F",(function(){return D})),t.d(n,"E",(function(){return B})),t.d(n,"M",(function(){return F})),t.d(n,"K",(function(){return z})),t.d(n,"G",(function(){return M})),t.d(n,"H",(function(){return U})),t.d(n,"B",(function(){return W})),t.d(n,"Q",(function(){return H})),t.d(n,"R",(function(){return G})),t.d(n,"D",(function(){return q})),t.d(n,"J",(function(){return V})),t.d(n,"S",(function(){return K}));var r="r34-react/ADD_ALIASES",c="r34-react/ADD_POSTS",o="r34-react/ADD_TAG",a="r34-react/CLOSE_MODAL",i="r34-react/ENTER_FULLSCREEN",u="r34-react/EXIT_FULLSCREEN",s="r34-react/FETCH_COMMENTS",d="r34-react/FETCH_PREFERENCES",l="r34-react/FETCH_SUGGESTIONS",f="r34-react/GET_MORE_RESULTS",b="r34-react/GET_RESULTS",p="r34-react/LIKE_POST",j="r34-react/OPEN_MODAL",h="r34-react/REMOVE_TAG",O="r34-react/SAVE_PREFERENCES",g="r34-react/SET_COMMENTS",m="r34-react/SET_FULLSCREEN_POST",v="r34-react/SET_POSTS",x="r34-react/SET_PREFERENCE",k="r34-react/SET_PREFERENCES",y="r34-react/SET_SUGGESTIONS",w="r34-react/SET_SUGGESTIONS_ERROR",C="r34-react/SET_SUGGESTIONS_MODIFIER",S="r34-react/SCROLL_TO_POST";function E(e){return{type:o,tag:e}}function R(e){return{type:h,tagName:e}}function N(e,n){return{type:r,aliases:e,forTag:n}}function T(e){return{type:c,posts:e}}function A(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{type:v,posts:e,count:n,pageNumber:t}}function I(e,n){return{type:g,postId:e,comments:n}}function _(e){return{type:s,postId:e}}function P(e,n){return{type:x,key:e,value:n}}function L(e){return{type:k,preferences:e}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:b,pageNumber:e}}function B(){return{type:f}}function F(e){return{type:m,index:e}}function z(e){return{type:S,index:e}}function M(e){return{type:p,postId:e}}function U(e){return{type:j,modalId:e}}function W(){return{type:a}}function H(e){return{type:y,suggestions:e}}function G(e){return{type:w,error:e}}function q(e,n){return{type:l,value:e,includeSupertags:n}}function V(){return{type:O}}function K(e){return{type:C,modifier:e}}},,,,,,,function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"f",(function(){return l})),t.d(n,"i",(function(){return f})),t.d(n,"j",(function(){return b})),t.d(n,"k",(function(){return p})),t.d(n,"q",(function(){return h})),t.d(n,"r",(function(){return O})),t.d(n,"s",(function(){return g})),t.d(n,"v",(function(){return m})),t.d(n,"w",(function(){return v})),t.d(n,"y",(function(){return x})),t.d(n,"x",(function(){return k})),t.d(n,"z",(function(){return y})),t.d(n,"A",(function(){return w})),t.d(n,"B",(function(){return C})),t.d(n,"D",(function(){return S})),t.d(n,"E",(function(){return E})),t.d(n,"F",(function(){return R})),t.d(n,"G",(function(){return N})),t.d(n,"I",(function(){return T})),t.d(n,"J",(function(){return A})),t.d(n,"g",(function(){return I})),t.d(n,"C",(function(){return _})),t.d(n,"p",(function(){return P})),t.d(n,"e",(function(){return L})),t.d(n,"l",(function(){return B})),t.d(n,"m",(function(){return F})),t.d(n,"o",(function(){return U})),t.d(n,"H",(function(){return W})),t.d(n,"h",(function(){return H})),t.d(n,"t",(function(){return G})),t.d(n,"u",(function(){return q})),t.d(n,"n",(function(){return V})),t.d(n,"a",(function(){return K}));var r=t(3),c=t(34),o=t(54),a=t(21),i=t(25),u=function(e){return e.tags.active},s=function(e){return e.preferences.themeId},d=function(e){return e.tags.aliases},l=function(e){return e.preferences.autoPlay},f=function(e){return e.preferences.cookies},b=function(e){return e.results.count},p=function(e){return e.fullscreen.currentIndex},j=function(e){return e.modals.openModal},h=function(e){return e.preferences.originals},O=function(e){return e.results.pageNumber},g=function(e){return e.preferences.pageSize},m=function(e){return e.results.posts},v=function(e){return e.preferences},x=function(e){return e.preferences.preloadVideos},k=function(e){return e.preferences.preloadVideos},y=function(e){return e.preferences.resultsLayout},w=function(e){return e.preferences.showComments},C=function(e){return e.preferences.showMetadata},S=function(e){return e.preferences.sort},E=function(e){return e.suggestions.entries},R=function(e){return e.suggestions.error},N=function(e){return e.suggestions.modifier},T=function(e){return e.preferences.tagSuggestionsCount},A=function(e){return e.results.updated},I=function(e){return e.preferences.autoscrollDelay},_=function(e){return e.preferences.showPostDetails},P=Object(c.a)(u,(function(e){return Object.keys(e).length})),L=Object(c.a)(d,(function(e){return Object.values(e).flat()})),D=(Object(c.a)(m,(function(e){return 0!==e.length})),Object(c.a)(m,b,(function(e,n){return e.length===n}))),B=Object(c.a)(D,(function(e){return!e})),F=Object(c.a)(b,g,(function(e,n){return Math.ceil(e/n)-1})),z=Object(c.a)(m,p,(function(e,n){return e[n]})),M=Object(c.a)(m,z,(function(e,n){return n?e.indexOf(n):-1})),U=Object(c.a)((function(e){return e.preferences.rated}),(function(e){return e.preferences.ratedThreshold}),(function(e,n){return e?n:0})),W=(Object(c.a)(m,M,(function(e,n){return n+1<e.length?n+1:void 0})),Object(c.a)(M,(function(e){return e>0?e-1:void 0})),Object(c.a)(j,(function(e){return e===i.a.CREATE_SUPERTAG}))),H=Object(c.a)(j,(function(e){return e===i.a.CELLULAR_WARNING})),G=Object(o.a)((function(e){return Object(c.a)(m,(function(n){return n.find((function(n){return n.id===e}))}))})),q=Object(o.a)((function(e){return Object(c.a)(m,(function(n){return n[e]}))})),V=(Object(o.a)((function(e){return Object(c.a)(d,(function(n){return n[e]}))})),Object(o.a)((function(e){return function(n){return e in n.likes}}))),K=Object(c.a)(u,(function(e){return Object.values(e).filter(a.g).reduce((function(e,n){return Object(r.a)(Object(r.a)({},e),n.tags)}),{})}))},,,,,,function(e,n,t){"use strict";t.d(n,"i",(function(){return O})),t.d(n,"d",(function(){return g})),t.d(n,"e",(function(){return m})),t.d(n,"h",(function(){return v})),t.d(n,"f",(function(){return x})),t.d(n,"b",(function(){return k})),t.d(n,"c",(function(){return y})),t.d(n,"g",(function(){return w})),t.d(n,"a",(function(){return S}));var r,c,o,a,i,u,s,d,l,f,b=t(5),p=t(4),j=t(32),h=t(31);function O(e){var n=e.theme;return Object(p.c)(r||(r=Object(b.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    ","\n    ","\n  "])),Object(j.d)(n.dimensions.bigSpacing),Object(j.c)(n.dimensions.bigSpacing))}function g(){return Object(p.c)(c||(c=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n  "])))}function m(e){var n=e.theme;return Object(p.c)(o||(o=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    ",";\n  "])),Object(j.c)(n.dimensions.bigSpacing))}function v(e){var n=e.theme;return Object(p.c)(a||(a=Object(b.a)(["\n    display: grid;\n    ","\n  "])),Object(j.e)(n.dimensions.bigSpacing))}function x(e){var n=e.theme;return Object(p.c)(i||(i=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    ",";\n  "])),Object(j.d)(n.dimensions.bigSpacing))}function k(e){var n=e.theme;return Object(p.c)(u||(u=Object(b.a)(["\n    width: 100%;\n    max-width: ",";\n    margin-left: auto;\n    margin-right: auto;\n  "])),n.dimensions.bodyWidth)}function y(e){var n=e.theme;return Object(p.c)(s||(s=Object(b.a)(["\n    height: ",";\n    padding: 0 ",";\n  "])),n.dimensions.blockHeight,n.dimensions.bigSpacing)}function w(){return Object(p.c)(d||(d=Object(b.a)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    ",";\n  "])),C)}function C(){return Object(p.c)(l||(l=Object(b.a)(["\n    width: 100vw;\n    height: 100vh;\n  "])))}function S(e){var n=e.theme;return Object(p.c)(f||(f=Object(b.a)(["\n    display: inline-flex;\n    align-items: center;\n    place-content: center;\n\n    height: ",";\n    cursor: pointer;\n    white-space: nowrap;\n    border-radius: ",";\n    font-size: ",";\n    ","\n    ","\n  "])),n.dimensions.blockHeight,n.dimensions.borderRadius,n.fontSizes.content,j.a,h.i)}},,function(e,n,t){"use strict";(function(e){t.d(n,"h",(function(){return o})),t.d(n,"a",(function(){return a})),t.d(n,"e",(function(){return i})),t.d(n,"g",(function(){return u})),t.d(n,"d",(function(){return s})),t.d(n,"f",(function(){return d})),t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return f}));var r=t(3),c=t(10);t(12);function o(e){return encodeURIComponent(e.toLowerCase().replace(/ /g,"_"))}function a(e,n){return Object(r.a)(Object(r.a)({},e),{},{modifier:n})}function i(e){return void 0!==e.modifier}function u(e){return void 0!==e.tags}function s(e){return e.find((function(e){return!e.match(/^[general|ambiguous]$/)}))}function d(e){return void 0!==e.message}function l(n){var t="".concat(encodeURI(n.name),"/").concat(encodeURI(n.description),"/").concat(encodeURI(Object.entries(n.tags).map((function(e){var n=Object(c.a)(e,2),t=n[0],r=n[1];return"".concat(t,",").concat(r)})).join(";")));return e.from(t).toString("base64")}function f(n){var t,r=e.from((t=n,"#"===t[0]?t.substr(1):t),"base64").toString().split("/").map(decodeURI);return{name:r[0],description:r[1],tags:Object.fromEntries(r[2].split(";").map((function(e){return e.split(",")})))}}}).call(this,t(111).Buffer)},function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return f})),t.d(n,"e",(function(){return b})),t.d(n,"f",(function(){return p})),t.d(n,"g",(function(){return j})),t.d(n,"h",(function(){return h})),t.d(n,"i",(function(){return O})),t.d(n,"j",(function(){return g})),t.d(n,"k",(function(){return m})),t.d(n,"l",(function(){return v})),t.d(n,"m",(function(){return x})),t.d(n,"n",(function(){return k})),t.d(n,"o",(function(){return y})),t.d(n,"p",(function(){return w})),t.d(n,"q",(function(){return C})),t.d(n,"s",(function(){return S})),t.d(n,"t",(function(){return E})),t.d(n,"u",(function(){return R})),t.d(n,"v",(function(){return N})),t.d(n,"w",(function(){return T})),t.d(n,"x",(function(){return A})),t.d(n,"y",(function(){return I})),t.d(n,"z",(function(){return _})),t.d(n,"A",(function(){return P})),t.d(n,"B",(function(){return L})),t.d(n,"C",(function(){return D})),t.d(n,"D",(function(){return B})),t.d(n,"E",(function(){return F})),t.d(n,"F",(function(){return z})),t.d(n,"H",(function(){return M})),t.d(n,"I",(function(){return U})),t.d(n,"J",(function(){return W})),t.d(n,"K",(function(){return H})),t.d(n,"L",(function(){return G})),t.d(n,"M",(function(){return q})),t.d(n,"N",(function(){return V})),t.d(n,"r",(function(){return K})),t.d(n,"d",(function(){return Y})),t.d(n,"G",(function(){return J})),t.d(n,"b",(function(){return Q}));var r=t(3),c=t(55),o=t(17),a=t(120),i=t(1),u=t.n(i),s=t(2),d=function(e){return u.a.memo((function(n){return Object(s.jsx)(a.a,Object(r.a)({"data-testid":"icon",icon:e},n))}))},l=d(o.e),f=d(o.u),b=d(o.d),p=d(o.F),j=d(o.g),h=d(o.C),O=d(o.h),g=d(o.j),m=d(o.k),v=d(c.a),x=d(c.b),k=d(o.l),y=d(o.m),w=d(o.n),C=d(o.D),S=d(c.c),E=d(c.d),R=d(o.q),N=d(o.r),T=d(o.t),A=d(o.s),I=d(c.e),_=d(o.v),P=d(o.G),L=d(o.w),D=d(o.y),B=(d(o.i),d(o.z)),F=d(o.A),z=d(o.p),M=d(o.f),U=d(o.B),W=d(o.x),H=d(c.f),G=d(c.g),q=d(o.E),V=d(o.H),K=d(o.o),Y=d(o.c),J=d(o.a),Q=d(o.b)},,,function(e,n,t){"use strict";var r,c;t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return o})),function(e){e.SEARCH="/",e.PREFERENCES="/preferences",e.ABOUT="/about",e.PRIVACY="/privacy",e.TERMS="/terms",e.STORIES="/stories",e.SHARE="/share"}(r||(r={})),function(e){e[e.CREATE_SUPERTAG=0]="CREATE_SUPERTAG",e[e.CELLULAR_WARNING=1]="CELLULAR_WARNING"}(c||(c={}));var o=function(){}},,function(e,n,t){"use strict";t.d(n,"d",(function(){return h})),t.d(n,"c",(function(){return O})),t.d(n,"f",(function(){return g})),t.d(n,"b",(function(){return m})),t.d(n,"a",(function(){return v})),t.d(n,"e",(function(){return x}));var r,c,o,a,i,u,s,d=t(5),l=t(4),f=t(19),b=t(98),p=t(31),j=l.d.button(r||(r=Object(d.a)(["\n  ","\n"])),f.a),h=l.d.a((function(e){var n=e.theme;return Object(l.c)(c||(c=Object(d.a)(["\n    ","\n\n    gap: ",";\n    padding: 0 ",";\n    background-color: ",";\n    border-radius: ",";\n    color: ",";\n\n    :visited {\n      color: "," !important;\n      text-decoration: none !important;\n    }\n\n    :hover {\n      opacity: 0.8;\n      text-decoration: none !important;\n    }\n\n    :active {\n      opacity: 0.6;\n      text-decoration: none !important;\n    }\n  "])),f.a,n.dimensions.bigSpacing,n.dimensions.hugeSpacing,n.colors.layerBg,n.dimensions.borderRadius,n.colors.text,n.colors.text)})),O=l.d.button((function(e){var n=e.theme;return Object(l.c)(o||(o=Object(d.a)(["\n    background-color: transparent;\n    border: none;\n    padding: ",";\n    color: ",";\n    cursor: pointer;\n    font-size: ",";\n\n    ","\n\n    svg {\n      ","\n    }\n  "])),n.dimensions.bigSpacing,n.colors.text,n.fontSizes.content,b.a,p.i)})),g=Object(l.d)(j)((function(e){var n=e.theme;return Object(l.c)(a||(a=Object(d.a)(["\n    ","\n\n    gap: ",";\n    padding: 0 ",";\n  "])),p.f,n.dimensions.bigSpacing,n.dimensions.hugeSpacing)})),m=Object(l.d)(g)(i||(i=Object(d.a)(["\n  width: 100%;\n"]))),v=Object(l.d)(g)((function(e){var n=e.theme;return Object(l.c)(u||(u=Object(d.a)(["\n    border-radius: 0 "," "," 0;\n    min-width: ",";\n  "])),n.dimensions.borderRadius,n.dimensions.borderRadius,n.dimensions.blockHeight)})),x=Object(l.d)(j)((function(e){var n=e.theme;return Object(l.c)(s||(s=Object(d.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    font-size: 24px;\n\n    :focus {\n      text-decoration: none;\n    }\n\n    ","\n    border-right-width: 0;\n    border-radius: "," 0 0 ",";\n  "])),p.b,n.dimensions.borderRadius,n.dimensions.borderRadius)}))},,,,function(e,n,t){"use strict";t.d(n,"i",(function(){return h})),t.d(n,"a",(function(){return O})),t.d(n,"b",(function(){return g})),t.d(n,"f",(function(){return m})),t.d(n,"g",(function(){return v})),t.d(n,"d",(function(){return x})),t.d(n,"e",(function(){return y})),t.d(n,"h",(function(){return w})),t.d(n,"c",(function(){return C}));var r,c,o,a,i,u,s,d,l,f,b=t(5),p=t(4),j=t(19);function h(e){var n=e.theme;return Object(p.c)(r||(r=Object(b.a)(["\n    transition: all "," linear;\n  "])),n.timings.transitionTime)}function O(e){var n=e.theme;return Object(p.c)(c||(c=Object(b.a)(["\n    border-radius: ",";\n  "])),n.dimensions.borderRadius)}function g(e){var n=e.theme;return Object(p.c)(o||(o=Object(b.a)(["\n    border-color: ",";\n    border-width: ",";\n    border-style: solid;\n    ","\n  "])),n.colors.accentColor,n.dimensions.borderWidth,O)}function m(e){var n=e.theme,t=e.disabled;return Object(p.c)(a||(a=Object(b.a)(["\n    color: ",";\n    background-color: ",";\n    border: none;\n\n    ","\n    ","\n  "])),n.colors.backgroundColor,t?n.colors.subduedText:n.colors.accentColor,h,k)}function v(e){var n=e.theme,t=e.disabled?n.colors.subduedText:n.colors.accentColor;return Object(p.c)(i||(i=Object(b.a)(["\n    color: ",";\n    background-color: transparent;\n\n    ","\n    ","\n    ","\n  "])),t,h,g,k)}function x(e){var n=e.theme;return Object(p.c)(u||(u=Object(b.a)(["\n    :focus {\n      color: ",";\n      border-color: ",";\n    }\n  "])),n.colors.backgroundColor2,n.colors.backgroundColor2)}function k(e){return e.disabled?"":Object(p.c)(s||(s=Object(b.a)(["\n        :hover {\n          filter: brightness(120%);\n        }\n\n        :focus {\n          ","\n        }\n\n        :active {\n          filter: brightness(90%);\n        }\n      "])),x)}function y(e){var n=e.theme;return Object(p.c)(d||(d=Object(b.a)(["\n    background-color: ",";\n    ","\n  "])),n.colors.layerBg,O)}function w(e){var n=e.theme;return Object(p.c)(l||(l=Object(b.a)(["\n    background-color: ",";\n    ","\n  "])),n.colors.layerBgSolid,O)}function C(e){var n=e.theme;return Object(p.c)(f||(f=Object(b.a)(["\n    ","\n    ","\n   \n    background-color: ",";\n    cursor: pointer;\n  "])),g,j.c,n.colors.backgroundColor2)}},function(e,n,t){"use strict";t.d(n,"e",(function(){return p})),t.d(n,"d",(function(){return j})),t.d(n,"c",(function(){return h})),t.d(n,"b",(function(){return O})),t.d(n,"a",(function(){return g}));var r,c,o,a,i,u,s,d,l=t(5),f=t(4),b=t(51);function p(e){return b.e?Object(f.c)(r||(r=Object(l.a)(["\n        gap: ",";\n      "])),e):Object(f.c)(c||(c=Object(l.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n          margin-bottom: ",";\n        }\n      "])),e,e)}function j(e){return b.c?Object(f.c)(o||(o=Object(l.a)(["\n        gap: ",";\n      "])),e):Object(f.c)(a||(a=Object(l.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n        }\n      "])),e)}function h(e){return b.c?Object(f.c)(i||(i=Object(l.a)(["\n        gap: ",";\n      "])),e):Object(f.c)(u||(u=Object(l.a)(["\n        > :not(:last-child) {\n          margin-bottom: ",";\n        }\n      "])),e)}function O(e){var n=e.theme;return Object(f.c)(s||(s=Object(l.a)(["\n    ",";\n    padding: ",";\n  "])),p(n.dimensions.bigSpacing),n.dimensions.bigSpacing)}function g(e){var n=e.theme;return Object(f.c)(d||(d=Object(l.a)(["\n    ",";\n    padding: 0 ",";\n  "])),p(n.dimensions.bigSpacing),n.dimensions.bigSpacing)}},,,,,,,,function(e,n,t){"use strict";t.d(n,"d",(function(){return W})),t.d(n,"e",(function(){return F})),t.d(n,"j",(function(){return s})),t.d(n,"k",(function(){return d})),t.d(n,"b",(function(){return y})),t.d(n,"h",(function(){return C})),t.d(n,"g",(function(){return E})),t.d(n,"c",(function(){return N})),t.d(n,"a",(function(){return A})),t.d(n,"f",(function(){return _})),t.d(n,"i",(function(){return L}));var r,c=t(41),o=(t(105),t(87),t(107),t(7)),a=t.n(o),i=t(14),u=!1;function s(){u?c.a.auth().signInWithPopup(r).catch((function(e){console.error("Sign in failed:",e.code,e.message)})):console.warn("Cannot sign in before initialization")}function d(){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=6;break}return e.next=3,c.a.auth().signOut().catch((function(e){console.error("Sign out failed:",e.code,e.message)}));case 3:return e.abrupt("return",e.sent);case 6:console.warn("Cannot sign out before initialization");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f,b,p=t(80),j=t(16),h=t(18),O=function(){function e(){Object(j.a)(this,e)}return Object(h.a)(e,[{key:"toFirestore",value:function(e){return e}},{key:"fromFirestore",value:function(e,n){return e.data(n)}}]),e}(),g=!1;function m(){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(a.a.mark((function e(){var n,t,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[firestore] getting user document"),g){e.next=4;break}return console.warn("Cannot get userDoc. Not initialized yet"),e.abrupt("return",void 0);case 4:if(e.prev=4,n=c.a.auth(),t=n.currentUser,!(r=null===t||void 0===t?void 0:t.email)){e.next=13;break}return e.next=10,Object(p.b)(r);case 10:return o=e.sent,i=c.a.firestore().collection("users").doc(o),e.abrupt("return",i);case 13:return e.abrupt("return",void 0);case 16:return e.prev=16,e.t0=e.catch(4),console.warn("Failed to get user document:",e.t0),e.abrupt("return",void 0);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function x(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(a.a.mark((function e(){var n,t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(!(n=e.sent)){e.next=9;break}return e.next=6,n.withConverter(f).get();case 6:return t=e.sent,r=t.data(),e.abrupt("return",r);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.preferences);case 5:return e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return t=e.sent,e.next=5,null===t||void 0===t?void 0:t.set({preferences:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.warn("no longer supported");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(a.a.mark((function e(){var n,t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(!(n=e.sent)){e.next=11;break}return console.log("[firestore] getting user supertags"),e.next=7,n.collection("supertags").get();case 7:return t=e.sent,r={},t.forEach((function(e){r[e.id]=e.data()})),e.abrupt("return",r);case 11:return e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,n,t){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(a.a.mark((function e(n,t,r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:null===(c=e.sent)||void 0===c||c.collection("supertags").doc(n).set({description:t,tags:r});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:null===(t=e.sent)||void 0===t||t.collection("supertags").doc(n).delete();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,n){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(a.a.mark((function e(n,t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:null===(r=e.sent)||void 0===r||r.collection("supertags").doc(n).update({tags:t});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.SEARCH="r34_search"}(b||(b={}));var B=!1;function F(e){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B&&c.a.analytics().logEvent(n.id,n.payload);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=!1,U={apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"};function W(){M||(c.a.initializeApp(U),M=!0,r=new c.a.auth.GoogleAuthProvider,u=!0,f=new O,g=!0,B=!0)}},,,,,,,,function(e,n,t){"use strict";t.d(n,"d",(function(){return d})),t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return f})),t.d(n,"b",(function(){return b}));var r,c,o,a,i=t(5),u=t(4),s=t(19),d=u.d.h2((function(e){var n=e.theme;return Object(u.c)(r||(r=Object(i.a)(["\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),n.fontSizes.bigTitle)})),l=u.d.h1((function(e){var n=e.theme;return Object(u.c)(c||(c=Object(i.a)(["\n    ","\n\n    justify-content: center;\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),Object(s.f)({theme:n}),n.fontSizes.bigTitle)})),f=u.d.h3((function(e){var n=e.theme;return Object(u.c)(o||(o=Object(i.a)(["\n    font-size: ",";\n  "])),n.fontSizes.content)})),b=u.d.span((function(e){var n=e.theme;return Object(u.c)(a||(a=Object(i.a)(["\n    color: ",";\n  "])),n.colors.subduedText)}))},,function(e,n,t){"use strict";var r;t.d(n,"a",(function(){return r})),function(e){e[e.POST=1]="POST",e[e.OVERLAY=2]="OVERLAY",e[e.COOKIEBAR=100]="COOKIEBAR",e[e.DROPDOWN=3]="DROPDOWN",e[e.MODAL=1e3]="MODAL"}(r||(r={}))},function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"e",(function(){return i})),t.d(n,"b",(function(){return u})),t.d(n,"h",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"g",(function(){return l})),t.d(n,"f",(function(){return f})),t.d(n,"a",(function(){return b}));var r=t(7),c=t.n(r),o=t(14),a=function(){var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);var n=1===e.scrollHeight;return e.parentNode.removeChild(e),n}(),i="gap"in document.body.style,u="aspect-ratio"in document.body.style,s="object-fit"in document.body.style,d=document.fullscreenEnabled,l="connection"in navigator||"mozConnection"in navigator||"webkitConnection"in navigator,f=Boolean(localStorage);function b(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.fullscreenEnabled||null!==document.fullscreenElement){e.next=12;break}if(e.prev=1,!("then"in(t=n.requestFullscreen()))){e.next=7;break}return e.next=6,t;case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",Promise.resolve(t));case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}},,,,,function(e,n,t){"use strict";(function(e){t.d(n,"e",(function(){return r})),t.d(n,"f",(function(){return c})),t.d(n,"h",(function(){return o})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"d",(function(){return u})),t.d(n,"a",(function(){return s})),t.d(n,"g",(function(){return d}));var r=function(e,n){return e.reduce((function(e,t){return e[t[n]]=t,e}),{})};function c(e){try{return new URL(e)}catch(n){return}}function o(e){return Number(e.split(".").join(""))}function a(e){var n=e.split("/").pop()||"";fetch("https://r34-json.herokuapp.com/images?url=".concat(e)).then((function(e){return e.blob()})).then((function(e){var t=document.createElement("a");t.download=n,t.href=window.URL.createObjectURL(e),document.body.appendChild(t),t.click(),t.remove()})).catch((function(e){return console.error("Download error:",e)}))}function i(){var n,t;return(null===(n=e)||void 0===n||null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/r34-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"3.1.0"}))||void 0===t?void 0:t.REACT_APP_VERSION)?"3.1.0":"unknown"}function u(){var e=i();return"unknown"===e?"Latest Release":"Version ".concat(e)}function s(e){return e?1:0}var d=function(e){return Math.floor(Math.random()*e)}}).call(this,t(67))},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(1),c=t(15);function o(e){var n=Object(c.b)();return Object(r.useCallback)((function(){return n(e())}),[e,n])}},,function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(1),c=t(15),o=t(6),a=t(13);function i(e){var n=Object(c.b)(),t=Object(c.c)(a.w),i=Object(r.useCallback)((function(t){return n(Object(o.O)(e,t))}),[n,e]);return[t[e],i]}},function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d}));var r,c,o=t(5),a=t(4),i=t(32),u=t(31),s=a.d.div(r||(r=Object(o.a)(["\n  display: grid;\n  ","\n  ","\n  width: 100%;\n"])),i.b,u.e),d=a.d.div(c||(c=Object(o.a)(["\n  ","\n  ","\n  width: 100%;\n"])),i.b,u.h)},,,,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"d",(function(){return o})),t.d(n,"c",(function(){return a})),t.d(n,"e",(function(){return i})),t.d(n,"f",(function(){return u})),t.d(n,"b",(function(){return d})),t.d(n,"g",(function(){return l}));var r=t(56),c=function(e){return e/1e6>=1?"".concat(Math.trunc(e/1e6),"M"):e>=1e3?"".concat(Math.trunc(e/1e3),"K"):e.toString()},o=function(e){var n=Object(r.f)(e);return n?n.host:e};function a(e){var n=Math.trunc(e/60),t=Math.trunc(e%60);return n+":"+(t<10?"0":"")+t}function i(e){return e.replace(/_/g," ").replace(/source:/g,"").replace(/rating:/g,"")}function u(e,n){return n?"".concat(i(e)," (").concat(c(n),")"):i(e)}var s=function(e){return e<10?"0".concat(e):e.toString()};function d(e){var n=s(e.getDate()),t=s(e.getMonth()+1),r=e.getFullYear(),c=s(e.getHours()),o=s(e.getMinutes());return"".concat(n,"/").concat(t,"/").concat(r," ").concat(c,":").concat(o)}function l(e){return e>=315576e5?f(e,315576e5,"year"):e>=2629756800?f(e,2629756800,"month"):e>=6048e5?f(e,6048e5,"week"):e>=854e5?f(e,854e5,"day"):e>=36e5?f(e,36e5,"hour"):e>=6e4?f(e,6e4,"minute"):e>=1e3?f(e,1e3,"second"):"".concat(e," ms")}function f(e,n,t){var r=(e/n).toFixed(0),c="1"===r?t:"".concat(t,"s");return"".concat(r," ").concat(c)}},,,,,,,,function(e,n,t){"use strict";var r,c=t(5),o=t(4),a=t(19),i=o.d.div(r||(r=Object(c.a)(["\n  ","\n"])),a.f);n.a=i},,function(e,n,t){"use strict";var r,c=t(5),o=t(4),a=t(90),i=o.d.img(r||(r=Object(c.a)(["\n  ","\n  ","\n"])),a.a,a.c);n.a=i},,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return u}));var r=t(7),c=t.n(r),o=t(14),a=t(10),i=function(e){return Object.entries(e).reduce((function(e,n){var t=Object(a.a)(n,2),r=t[0],c=t[1];return e.append(r,function(e){return"string"===typeof e?e:e.toString()}(c)),e}),new URLSearchParams)},u=function(){var e=Object(o.a)(c.a.mark((function e(n){var t,r,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new TextEncoder).encode(n),e.next=3,crypto.subtle.digest("SHA-256",t);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),a=o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));t(1);var r=t(74),c=t(95),o=t(2);function a(e){var n=e.children,t=e.value,a=e.onToggle,i=e.className;return Object(o.jsxs)(r.a,{className:i,children:[Object(o.jsx)(c.a,{value:t,onToggle:a}),Object(o.jsx)("span",{children:n})]})}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));t(1);var r=t(22),c=t(2);function o(e){var n=e.type,t=e.className,o=void 0===t?"":t;switch(n){case"character":return Object(c.jsx)(r.f,{className:o});case"copyright":return Object(c.jsx)(r.k,{className:o});case"artist":return Object(c.jsx)(r.c,{className:o});case"rating":return Object(c.jsx)(r.B,{className:o});case"source":return Object(c.jsx)(r.F,{className:o});case"metadata":return Object(c.jsx)(r.x,{className:o});case"supertag":return Object(c.jsx)(r.I,{className:o});default:return null}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r,c=t(5),o=t(4);function a(e){var n=e.theme;return Object(o.c)(r||(r=Object(c.a)(["\n    overflow-x: hidden;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar {\n      width: 8px;\n\n      :hover {\n        background: ",";\n      }\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n      background: ",";\n      border-left: 1px lightgray solid;\n    }\n\n    /* Handle */\n    :hover {\n      ::-webkit-scrollbar {\n        background: ","20;\n      }\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ","40;\n      border-radius: 100px;\n\n      :hover {\n        background: ","30;\n      }\n    }\n  "])),n.colors.layerBg,n.colors.backgroundColor2,n.colors.backgroundColor,n.colors.backgroundColor,n.colors.backgroundColor)}},,,function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return d}));var r,c,o=t(5),a=t(4),i=t(32),u=t(19),s=a.d.div(r||(r=Object(o.a)(["\n  ","\n  width: 100%;\n  min-height: 100%;\n"])),u.d),d=Object(a.d)(s)(c||(c=Object(o.a)(["\n  ","\n"])),i.b)},,,,function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return f})),t.d(n,"c",(function(){return b}));var r,c,o,a,i=t(5),u=t(4),s=t(51),d=t(31);function l(){return Object(u.c)(r||(r=Object(i.a)(["\n    ","\n  "])),d.a)}function f(){return Object(u.c)(c||(c=Object(i.a)(["\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: contain;\n  "])))}function b(e){var n=e.width,t=e.height;return n&&t?s.b?Object(u.c)(o||(o=Object(i.a)(["\n        aspect-ratio: "," / ",";\n      "])),n,t):Object(u.c)(a||(a=Object(i.a)(["\n        max-width: 100%;\n        height: auto;\n      "]))):""}},,,function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return a}));var r=t(12),c=t(10),o=(t(3),function(e){return void 0!==e.message});function a(e){var n=function(e){var n=[];return e.forEach((function(e){!function(e){return void 0!==e.tags}(e)?n.push(e):Object.entries(e.tags).forEach((function(e){var t=Object(c.a)(e,2),r=t[0],o=t[1];n.push({name:r,modifier:o})}))})),n}(Object.values(e)),t=function(e){return e.reduce((function(e,n){var t;return n.modifier in e||(e[n.modifier]=[]),null===(t=e[n.modifier])||void 0===t||t.push(n),e}),{"+":[],"-":[],"~":[]})}(n),o=[].concat(Object(r.a)(t["+"]),Object(r.a)(t["-"])).map(i).join(" + "),a=t["~"].length>0?" + ( ".concat(t["~"].map(i).join(" ~ ")," )"):"";return"".concat(o).concat(a)}function i(e){return"".concat("-"===e.modifier?"-":"").concat((n=e.name,encodeURIComponent(n.toLowerCase().replace(/ /g,"_"))));var n}}).call(this,t(111).Buffer)},,function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var r,c,o,a,i=t(5),u=(t(1),t(4)),s=t(51),d=t(31),l=t(2),f=u.d.div((function(e){return Object(u.c)(r||(r=Object(i.a)(["\n    height: 24px;\n    width: 50px;\n    ","\n    border-radius: 30px;\n    background-color: transparent;\n    transition: transform "," ease-in-out;\n    cursor: pointer;\n  "])),Object(d.b)(e),e.theme.timings.longTransitionTime)}));var b=u.d.div((function(e){return Object(u.c)(a||(a=Object(i.a)(["\n    ","\n    background-color: ",";\n    border-radius: 100px;\n    transition: all 0.2s ease-in-out;\n    transform: translate(",");\n  "])),s.b?Object(u.c)(c||(c=Object(i.a)(["\n        height: 100%;\n        aspect-ratio: 1/1;\n      "]))):Object(u.c)(o||(o=Object(i.a)(["\n        height: 100%;\n        width: 22px;\n      "]))),e.value?e.theme.colors.accentColor:e.theme.colors.toggleOff,e.value?"26px":"0px")}));function p(e){var n=e.value,t=e.onToggle;return Object(l.jsx)(f,{onClick:t,role:"checkbox","aria-checked":n,children:Object(l.jsx)(b,{value:n})})}},function(e,n,t){"use strict";t.d(n,"a",(function(){return N}));var r=t(5),c=t(4),o=t(110),a=t(32),i=t(19),u=t(74),s=t(48),d=t(1),l=t.n(d),f=t(10);var b=t(22),p=t(2);function j(){var e=Object(c.f)();return function(e){var n=l.a.useState(window.navigator.onLine),t=Object(f.a)(n,2),r=t[0],c=t[1];return l.a.useEffect((function(){var n=function(){var n;c(!0),null===e||void 0===e||null===(n=e.onOnline)||void 0===n||n.call(e)};return window.addEventListener("online",n),function(){return window.removeEventListener("online",n)}})),l.a.useEffect((function(){var n=function(){var n;c(!1),null===e||void 0===e||null===(n=e.onOffline)||void 0===n||n.call(e)};return window.addEventListener("offline",n),function(){return window.removeEventListener("offline",n)}})),r}()?Object(p.jsx)("div",{}):Object(p.jsx)(b.q,{title:"You are offline",color:e.colors.negative})}var h,O,g,m,v,x=t(73),k=t(28),y=t(25),w=c.d.nav(h||(h=Object(r.a)(["\n  ","\n  place-content: center;\n"])),i.f),C=Object(c.d)(x.b)((function(e){var n=e.to,t=e.current,o=e.theme;return Object(c.c)(O||(O=Object(r.a)(["\n    ","\n    color: ",";\n    border-bottom: solid transparent ",";\n    border-bottom-color: ",";\n    border-radius: 0px;\n  "])),i.a,n===t?o.colors.accentColor:o.colors.text,o.dimensions.borderWidth,n===t?Object(c.c)(g||(g=Object(r.a)(["\n          ","\n        "])),o.colors.accentColor):"none")}));function S(){var e=Object(k.g)().pathname;return Object(p.jsxs)(w,{children:[Object(p.jsx)(C,{current:e,to:y.c.SEARCH,children:Object(p.jsx)("span",{children:"Search"})}),Object(p.jsx)(C,{current:e,to:y.c.PREFERENCES,children:Object(p.jsx)("span",{children:"Preferences"})}),Object(p.jsx)(C,{current:e,to:y.c.ABOUT,children:Object(p.jsx)("span",{children:"About"})})]})}var E=c.d.header((function(e){var n=e.theme;return Object(c.c)(m||(m=Object(r.a)(["\n    ","\n    background: ",";\n  "])),i.d,n.colors.layerBgSolid)})),R=c.d.div((function(e){var n=e.theme;return Object(c.c)(v||(v=Object(r.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    ","\n\n    > :first-child,\n    > :last-child {\n      width: ",";\n    }\n  "])),a.b,n.dimensions.blockHeight)}));function N(){return Object(p.jsxs)(E,{role:"cell",children:[Object(p.jsxs)(R,{children:[Object(p.jsx)("div",{}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)(o.a,{size:32}),Object(p.jsx)(s.a,{children:"Rule34 React"})]}),Object(p.jsx)(j,{})]}),Object(p.jsx)(S,{})]})}},function(e,n,t){"use strict";t.d(n,"a",(function(){return $}));var r,c,o,a,i=t(10),u=t(5),s=t(1),d=t.n(s),l=t(4),f=t(19),b=t(21),p=t(100),j=t(22),h=t(82),O=t(15),g=t(6),m=t(66),v={"+":Object(l.c)(r||(r=Object(u.a)([""]))),"-":Object(l.c)(c||(c=Object(u.a)(["\n    text-decoration: line-through;\n  "]))),"~":Object(l.c)(o||(o=Object(u.a)(["\n    font-style: italic;\n  "])))},x=l.d.span((function(e){var n=e.modifier;return v[void 0===n?"+":n]})),k=t(2);function y(e){var n=e.modifier,t=e.name,r=e.count;return Object(k.jsx)(x,{modifier:n,children:Object(m.f)(t,r)})}var w=l.d.div((function(e){var n=e.theme;return Object(l.c)(a||(a=Object(u.a)(["\n    ","\n    padding: ",";\n    font-size: ",";\n    cursor: pointer;\n  "])),Object(f.f)({theme:n}),n.dimensions.bigSpacing,n.fontSizes.content)}));function C(e){var n=e.name,t=e.count,r=e.modifier,c=Object(O.b)(),o=Object(s.useCallback)((function(e){e.stopPropagation(),c(Object(g.A)({name:n,types:[],count:t,modifier:r}))}),[t,c,r,n]);return Object(k.jsx)(w,{onClick:o,"data-name":"alias:".concat(n),children:Object(k.jsx)(y,{modifier:r,name:n,count:t})})}var S,E,R=t(83),N=t(50),T=l.d.div((function(e){var n=e.theme,t=e.parentRef;if(t){var r=t.getBoundingClientRect();return Object(l.c)(S||(S=Object(u.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n\n      display: flex;\n      flex-direction: column;\n\n      border-bottom-left-radius: ",";\n      border-bottom-right-radius: ",";\n      border: "," solid ",";\n      border-top: none;\n\n      background: ",";\n      z-index: ",";\n      color: ",";\n\n      > :not(:last-child) {\n        border-bottom: "," solid lightgray;\n      }\n\n      max-height: 30vh;\n\n      ","\n    "])),t.offsetTop+r.height,t.offsetLeft,r.width,n.dimensions.borderRadius,n.dimensions.borderRadius,n.dimensions.borderWidth,n.colors.accentColor,n.colors.backgroundColor2,N.a.DROPDOWN,n.colors.backgroundColor,n.dimensions.borderWidth,R.a)}return Object(l.c)(E||(E=Object(u.a)(["\n      display: none;\n    "])))}));function A(e){var n=e.aliases,t=e.modifier,r=e.parentRef;return Object(k.jsx)(T,{parentRef:r,className:"aliaslist",children:n.map((function(e){var n=e.name,r=e.count;return Object(k.jsx)(C,{name:n,count:r,modifier:t},"a_"+n)}))})}var I,_,P,L,D,B,F,z,M,U=t(31),W=l.d.div((function(e){return Object(l.c)(L||(L=Object(u.a)(["\n      cursor: pointer;\n      border: "," "," solid;\n      ","\n      ","\n      padding: 0 ",";\n      height: ",";\n      border-radius: ",";\n      font-size: ",";\n      user-select: none;\n\n      ","\n    "])),e.theme.colors.accentColor,e.theme.dimensions.borderWidth,Object(f.f)({theme:e.theme}),function(e,n,t){switch(e){case"direct":return Object(l.c)(I||(I=Object(u.a)(["\n        ","\n      "])),U.f);case"indirect":return Object(l.c)(_||(_=Object(u.a)(["\n        color: ",";\n        background-color: ","40;\n\n        :hover {\n          background-color: ","60;\n        }\n\n        :active {\n          background-color: ","50;\n        }\n\n        ","\n      "])),t.colors.accentColor,t.colors.accentColor,t.colors.accentColor,t.colors.accentColor,U.d);case"no":return Object(l.c)(P||(P=Object(u.a)(["\n        ","\n      "])),U.g)}}(e.active,e.collapsed,e.theme),e.theme.dimensions.bigSpacing,e.theme.dimensions.blockHeight,(n=e.collapsed,t=e.theme,n?t.dimensions.borderRadius:"".concat(t.dimensions.borderRadius," ").concat(t.dimensions.borderRadius," 0 0")),e.theme.fontSizes.content,e.collapsed?"":Object(l.c)(D||(D=Object(u.a)(["\n            border-bottom-color: ",";\n          "])),e.theme.colors.accentColor));var n,t})),H=Object(l.d)(j.a)((function(e){var n=e.$collapsed,t=e.theme;return Object(l.c)(B||(B=Object(u.a)(["\n    transition: all "," ease-out;\n    height: 32px;\n    width: 32px !important;\n    padding: 8px;\n    margin: 0 -8px;\n    ","\n  "])),t.timings.transitionTime,n?Object(l.c)(F||(F=Object(u.a)([""]))):Object(l.c)(z||(z=Object(u.a)(["\n          transform: rotate(180deg);\n        "]))))})),G=l.d.div((function(e){var n=e.theme;return Object(l.c)(M||(M=Object(u.a)(["\n    .aliaslist {\n      border-color: ",";\n    }\n  "])),n.colors.backgroundColor2)}));function q(e){var n=e.name,t=e.count,r=e.modifier,c=e.type,o=e.isActive,a=e.detailed,u=e.onClick,l=e.onContextMenu,f=e.aliases,b=Object(s.useState)(null),j=Object(i.a)(b,2),O=j[0],g=j[1],m=Object(p.a)(!0),v=Object(i.a)(m,2),x=v[0],w=v[1],C=Object(s.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),u(e)}),[u]),S=Object(s.useCallback)((function(e){e.stopPropagation(),w()}),[w]),E=Object(s.useCallback)((function(e){"Enter"===e.key&&C(e)}),[C]),R=d.a.useCallback((function(e){e.stopPropagation(),e.preventDefault(),null===l||void 0===l||l(e)}),[l]);return Object(k.jsxs)(G,{children:[Object(k.jsxs)(W,{active:o,collapsed:x,onClick:C,onKeyDown:E,onContextMenu:R,ref:g,tabIndex:0,role:"listitem",children:[a&&Object(k.jsx)(h.a,{type:c}),Object(k.jsx)(y,{modifier:r,name:n,count:t}),a&&f&&f.length>0&&Object(k.jsx)(H,{onClick:S,$collapsed:x,title:"Show aliases"})]}),a&&f&&f.length>0&&!x&&O&&Object(k.jsx)(A,{aliases:f,modifier:r,parentRef:O})]})}function V(e){var n=e.tag,t=e.isActive,r=e.detailed,c=e.onClick,o=n.name,a=n.tags,i=Object.keys(a).length;return Object(k.jsx)(q,{name:o,modifier:"+",type:"supertag",count:i,isActive:t,detailed:r,onClick:c})}var K,Y=t(13);function J(e){var n=e.tag,t=e.detailed,r=e.onClick,c=e.isActive,o=e.onContextMenu,a=n.name,i=n.count,u=n.modifier,s=n.types,d=Object(O.c)(Y.d)[a];return Object(k.jsx)(q,{name:a,modifier:u,type:Object(b.d)(s),count:i,isActive:c,detailed:t,onClick:r,onContextMenu:o,aliases:d})}function Q(e){var n=e.tag,t=e.isActive,r=e.detailed,c=e.onClick,o=e.onContextMenu,a=Object(b.g)(n)||Object(b.e)(n)?n:Object(b.a)(n,"+"),i=Object(s.useCallback)((function(e){null===e||void 0===e||e.stopPropagation(),c(a)}),[c,a]),u=Object(s.useCallback)((function(e){o(a)}),[a,o]);return Object(b.g)(a)?Object(k.jsx)(V,{tag:a,isActive:t,detailed:r,onClick:i}):Object(k.jsx)(J,{tag:a,isActive:t,detailed:r,onClick:i,onContextMenu:u})}var X=l.d.div(K||(K=Object(u.a)(["\n  ","\n"])),f.i);function $(e){var n=e.tags,t=e.className,r=e.detailed,c=e.children,o=void 0===c?null:c,a=e.onTagClick,u=e.getIsActive,s=e.onTagMenu;return Object(k.jsxs)(X,{className:t,role:"list",children:[Object.entries(n).map((function(e){var n=Object(i.a)(e,2),t=n[0],c=n[1];return Object(k.jsx)(Q,{detailed:r,tag:c,onClick:a,onContextMenu:s,isActive:(null===u||void 0===u?void 0:u(c))||"no"},t)})),o]})}},function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r,c=t(5),o=t(4);function a(e){var n=e.theme;return Object(o.c)(r||(r=Object(c.a)(["\n    filter: drop-shadow(0 1px "," ",");\n  "])),n.shadow.radius,n.shadow.color)}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r,c,o=t(5),a=t(4),i=a.d.div((function(e){return Object(a.c)(r||(r=Object(o.a)(["\n    align-self: stretch;\n    height: 1px;\n    background: ",";\n  "])),e.theme.colors.layerBgHighlight)}));a.d.div((function(e){return Object(a.c)(c||(c=Object(o.a)(["\n    width: 1px;\n    align-self: stretch;\n    background: ",";\n  "])),e.theme.colors.layerBgHighlight)}))},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(10),c=t(1);function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(c.useState)(e),t=Object(r.a)(n,2),o=t[0],a=t[1],i=Object(c.useCallback)((function(){return a(!o)}),[o]),u=Object(c.useCallback)((function(){return a(e)}),[e]);return[o,i,u]}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(1),c=t(15),o=t(6),a=t(13);function i(){var e=Object(c.b)(),n=Object(c.c)(a.b);return Object(r.useCallback)((function(t){t.name in n?e(Object(o.I)(t.name)):e(Object(o.A)(t))}),[n,e])}},,function(e,n,t){"use strict";t.d(n,"a",(function(){return K}));var r,c,o,a,i=t(10),u=t(5),s=t(1),d=t.n(s),l=t(15),f=t(4),b=t(125),p=t.n(b),j=t(21),h=t(112),O=t(22),g=t(6),m=t(13),v=t(27),x=t(82),k=t(66),y=t(2),w=f.d.div((function(e){var n=e.theme;return Object(f.c)(r||(r=Object(u.a)(["\n    display: grid;\n    grid-template-columns: 48px 1fr auto;\n    background: ",";\n    padding: "," 0;\n    align-items: center;\n    cursor: pointer;\n  "])),n.colors.backgroundColor2,n.dimensions.bigSpacing)})),C=f.d.span(c||(c=Object(u.a)(["\n  grid-column: 2/3;\n"]))),S=f.d.span((function(e){var n=e.theme;return Object(f.c)(o||(o=Object(u.a)(["\n    grid-column: 3/4;\n    padding-right: ",";\n  "])),n.dimensions.bigSpacing)})),E=f.d.div(a||(a=Object(u.a)(["\n  grid-column: 1/2;\n  text-align: center;\n"])));function R(e){var n=e.name,t=e.count,r=e.type,c=e.onClick,o="supertag"===r?"tags":"posts";return Object(y.jsxs)(w,{onClick:c,role:"listitem",children:[Object(y.jsx)(E,{children:Object(y.jsx)(x.a,{type:r})}),Object(y.jsx)(C,{children:Object(k.e)(n)}),Object(y.jsxs)(S,{title:"".concat(t," ").concat(o),children:[t&&Object(k.a)(t)," ",o]})]})}var N,T,A,I,_=t(19),P=f.d.div((function(e){var n=e.theme;return Object(f.c)(N||(N=Object(u.a)(["\n    ","\n    flex-wrap: wrap;\n    min-height: ","; // COMPAT: Kiwi Browser\n    background: ",";\n    padding: 6px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n  "])),_.f,n.dimensions.blockHeight,n.colors.backgroundColor2)})),L=t(32),D=t(83),B=t(50);var F,z=f.d.div((function(e){var n=e.theme,t=e.tagSelectorRef;return Object(f.c)(I||(I=Object(u.a)(["\n    ","\n    ","\n    ",";\n    background: lightgrey;\n    box-sizing: border-box;\n    border: "," "," solid;\n    border-top: none;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: ",";\n\n    ","\n  "])),Object(_.d)(),Object(L.c)("1px"),function(e){if(e){var n=e.offsetTop,t=e.clientHeight,r=e.offsetLeft,c=e.clientWidth;return Object(f.c)(T||(T=Object(u.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n    "])),n+t,r,c)}return Object(f.c)(A||(A=Object(u.a)(["\n      display: none;\n    "])))}(t),n.dimensions.borderWidth,n.colors.accentColor,B.a.DROPDOWN,D.a)}));function M(e){var n=e.tagSelectorRef,t=e.entries,r=e.onClick,c=e.error;return Object(y.jsx)(z,{tagSelectorRef:n,role:"list",children:c?Object(y.jsxs)(P,{role:"listitem",children:[Object(y.jsxs)("span",{children:[c.message,"."]}),Object(y.jsxs)("span",{children:[c.results," tags found"]})]}):t.map((function(e){var n=Object(j.g)(e)?"supertag":Object(j.d)(e.types),t=Object(j.g)(e)?Object.keys(e.tags).length:e.count;return Object(y.jsx)(R,{onClick:function(){return r(e)},name:e.name,type:n,count:t},e.name)}))})}var U,W,H,G=f.d.input((function(e){return Object(f.c)(F||(F=Object(u.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: "," "," solid;\n    border-bottom: "," "," solid;\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.dimensions.borderWidth)}));function q(e){var n=e.value,t=e.setValue,r=e.onSubmit,c=Object(s.useCallback)((function(e){t(e.target.value)}),[t]),o=Object(s.useCallback)((function(e){"Enter"===e.key&&r()}),[r]);return Object(y.jsx)(G,{id:"tag-input",value:n,onChange:c,onKeyDown:o,placeholder:"Search for tags","aria-label":"Search"})}var V=f.d.form((function(e){return Object(f.c)(U||(U=Object(u.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),e.closed?Object(f.c)(W||(W=Object(u.a)(["\n          border-radius: ",";\n        "])),e.theme.dimensions.borderRadius):Object(f.c)(H||(H=Object(u.a)(["\n          border-radius: "," "," 0 0;\n\n          > "," {\n            border-radius: 0 "," 0 0;\n          }\n\n          > "," {\n            border-radius: "," 0 0 0;\n          }\n        "])),e.theme.dimensions.borderRadius,e.theme.dimensions.borderRadius,v.a,e.theme.dimensions.borderRadius,v.e,e.theme.dimensions.borderRadius))}));function K(e){var n=e.onSubmit,t=e.showSupertags,r=Object(l.b)(),c=d.a.useState(""),o=Object(i.a)(c,2),a=o[0],u=o[1],s=d.a.useState(null),f=Object(i.a)(s,2),b=f[0],x=f[1],k=Object(h.a)(),w=Object(i.a)(k,2),C=w[0],S=w[1],E=Object(l.c)(m.E),R=Object(l.c)(m.F),N=d.a.useCallback((function(e){var t=Object(j.g)(e)?e:Object(j.a)(e,C);n(t),u("")}),[C,n]);p()((function(){""===a?E.length>0&&r(Object(g.Q)([])):r(Object(g.D)(a,t))}),300,[a]);var T=d.a.useCallback((function(){if(a.trim()){var e=Object(j.h)(a),n=E.find((function(n){return n.name===e}));N(n||{name:e,types:[]})}}),[a,N,E]),A=E.length>0||null!==R,I=d.a.useCallback((function(e){return e.preventDefault()}),[]);return Object(y.jsxs)(V,{ref:x,closed:!A,onSubmit:I,children:[Object(y.jsx)(v.e,{onClick:S,"aria-label":"Tag Modifier",title:"Cycle tag modifier",children:C}),Object(y.jsx)(q,{value:a,setValue:u,onSubmit:T}),Object(y.jsx)(v.a,{onClick:T,"aria-label":"Add Tag",children:Object(y.jsx)(O.G,{title:"Add tag"})}),A&&a.length>0&&Object(y.jsx)(M,{tagSelectorRef:b,entries:E,error:R,onClick:N})]})}},function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t(3),c=t(7),o=t.n(c),a=t(14),i=t(1),u=t(40),s=t(22),d=t(27),l=t(2);function f(e){var n=Object(i.useCallback)(Object(a.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=localStorage)||void 0===n||n.clear(),e.next=3,Object(u.k)();case 3:window.location.hash="",window.location.reload();case 5:case"end":return e.stop()}}),e)}))),[]);return Object(l.jsxs)(d.b,Object(r.a)(Object(r.a)({onClick:n},e),{},{children:[Object(l.jsx)(s.M,{})," Reset Application"]}))}},,,,function(e,n,t){"use strict";n.a=t.p+"static/media/OutOfResults.9c71691c.png"},function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r,c=t(5),o=(t(1),t(4)),a=t(2),i=o.d.svg(r||(r=Object(c.a)(["\n  height: 32px;\n  padding: 8px;\n  color: white;\n"])));function u(){return Object(a.jsxs)(i,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve",children:[Object(a.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"6",cy:"10",r:"6",children:Object(a.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})}),Object(a.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"25",cy:"10",r:"6",children:Object(a.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})}),Object(a.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"44",cy:"10",r:"6",children:Object(a.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})})]})}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(4),c=t(2);function o(e){var n=Object(r.f)();return Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7",className:e.className,children:Object(c.jsxs)("g",{transform:"translate(0,-284.3)",children:[Object(c.jsx)("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:n.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),Object(c.jsx)("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:n.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)",children:Object(c.jsx)("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:n.colors.accentColor,fillOpacity:"1",children:"34"})})]})})}},,function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t(1),c=t(15),o=t(13),a=t(6),i=["+","-","~"];function u(){var e=Object(c.b)(),n=Object(c.c)(o.G),t=Object(r.useCallback)((function(){return e(Object(a.S)(i[(i.indexOf(n)+1)%i.length]))}),[e,n]);return[n,t]}},function(e,n,t){"use strict";t.d(n,"a",(function(){return O}));var r=t(3),c=t(1),o=t.n(c),a=t(15),i=t(21),u=t(25),s=t(114),d=t(101),l=t(22),f=t(6),b=t(13),p=t(27),j=t(97),h=t(2);function O(e){var n=e.onChange,t=void 0===n?u.b:n,O=e.offerSupertags,g=void 0!==O&&O,m=Object(a.b)(),v=Object(a.c)(b.b),x=Object(a.c)(b.p),k=Object(c.useCallback)((function(){return m(Object(f.H)(u.a.CREATE_SUPERTAG))}),[m]),y=Object(d.a)(),w=Object(s.a)(),C=o.a.useCallback((function(e){if(!Object(i.g)(e)){var n=["+","-","~"],t=n[(n.indexOf(e.modifier)+1)%3];m(Object(f.A)(Object(r.a)(Object(r.a)({},e),{},{modifier:t})))}}),[m]);return Object(c.useEffect)((function(){return t()}),[t,v]),x>0?Object(h.jsx)(j.a,{tags:v,onTagClick:y,getIsActive:w,onTagMenu:C,detailed:!0,children:g&&Object.keys(v).length>1&&Object(h.jsx)(p.f,{onClick:k,title:"Create a supertag",children:Object(h.jsx)(l.I,{})})}):null}},function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(1),c=t(15),o=t(13),a=function(){var e=Object(c.c)(o.b),n=Object(c.c)(o.a);return Object(r.useCallback)((function(t){return t.name in e?"direct":t.name in n?"indirect":"no"}),[n,e])}},function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(1),c=t(15),o=t(6),a=function(){var e=Object(c.b)();return Object(r.useCallback)((function(n){e(Object(o.A)(n))}),[e])}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,n,t){"use strict";t.r(n);t(137);var r=t(185),c=t(184),o=t(75),a=t.n(o),i=t(1),u=t.n(i),s=t(116),d=t(15),l=t(73),f=t(28),b=t(119),p=t(4),j=t(16),h=t(18),O=t(61),g=t(64),m=function(e){Object(O.a)(t,e);var n=Object(g.a)(t);function t(e){var r;return Object(j.a)(this,t),(r=n.call(this,e)).state={hasError:!1},r}return Object(h.a)(t,[{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(u.a.Component),v=t(25),x={"/":function(){var e;return null===(e=document.getElementById("tag-input"))||void 0===e?void 0:e.focus()},"ctrl+1":function(){return window.location.hash="#".concat(v.c.SEARCH)},"ctrl+2":function(){return window.location.hash="#".concat(v.c.PREFERENCES)},"ctrl+3":function(){return window.location.hash="#".concat(v.c.ABOUT)}};function k(){return u.a.useEffect((function(){var e=function(e){var n="".concat(e.ctrlKey?"ctrl+":"").concat(e.key);n in x&&(e.preventDefault(),e.stopPropagation(),x[n]())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),null}var y,w,C=t(5),S=t(104),E=t(108),R=t(76),N=t(65),T=Object(p.b)((function(e){var n=e.theme;return Object(p.c)(y||(y=Object(C.a)(["\n    p,\n    a,\n    button,\n    span,\n    div,\n    select,\n    input {\n      font-family: 'Raleway', sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      font-size: ",";\n    }\n\n    html {\n      background-color: ",";\n    }\n\n    body {\n      font-size: ",";\n      color: ",";\n      background-color: ",";\n      transition: color 0.4s, background-color 0.4s;\n\n      // always show scrollbar to prevent layout shifts when changing pages\n      overflow-y: scroll;\n    }\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n\n    // Not a touch device\n    // Touch devices have nice scrollbars by default\n    @media (pointer: fine) {\n      // Underline stuff that is focused on non-touch devices\n      // makes keyboard navigation clearer\n      button,\n      input,\n      select {\n        &:focus {\n          text-decoration: underline;\n        }\n      }\n\n      ::-webkit-scrollbar {\n        height: 8px;\n        transition: all "," ease-in-out;\n\n        :hover {\n          background: ",";\n        }\n      }\n\n      /* Track */\n      ::-webkit-scrollbar-track {\n        background: transparent;\n      }\n\n      /* Handle */\n      :hover {\n        ::-webkit-scrollbar {\n          background: ",";\n        }\n      }\n\n      ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 1000px;\n\n        :hover {\n          background: ",";\n        }\n      }\n    }\n  "])),n.fontSizes.content,n.colors.backgroundColor,n.fontSizes.content,n.colors.text,n.colors.backgroundColor,n.colors.accentColor,n.timings.transitionTime,n.colors.layerBg,n.colors.layerBg,n.colors.layerBg,n.colors.layerBgHighlight)})),A=t(27),I=t(22),_=t(2),P=p.d.div(w||(w=Object(C.a)(["\n  height: 100vh;\n  width: 100%;\n  display: grid;\n  place-items: center;\n  align-content: center;\n  padding: 30px;\n  background: ",";\n\n  > * {\n    margin-bottom: 10px;\n  }\n"])),(function(e){return e.theme.colors.backgroundColor}));function L(){var e=N.themes[N.defaultThemeId];return Object(_.jsxs)(P,{theme:e,children:[Object(_.jsx)(T,{theme:e}),Object(_.jsx)(R.a,{src:E.a,alt:"Cute image to make unexpected crash more bearable"}),Object(_.jsx)("h1",{children:"Sorry about that..."}),Object(_.jsx)("p",{children:"A page reload might help:"}),Object(_.jsxs)(A.b,{onClick:function(){return window.location.reload()},children:[Object(_.jsx)(I.M,{})," Reload"]}),Object(_.jsx)("p",{children:"If the issue persists try resetting the app"}),Object(_.jsx)(S.a,{theme:e})]})}var D,B=t(109),F=p.d.div(D||(D=Object(C.a)(["\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  place-items: center;\n  background: black;\n"])));function z(){return Object(_.jsx)(F,{children:Object(_.jsx)(B.a,{})})}var M,U,W=t(32),H=t(86),G=t(60),q=t(48),V=t(96),K=Object(p.d)(G.b)((function(e){var n=e.theme;return Object(p.c)(M||(M=Object(C.a)(["\n    padding: ",";\n    ",";\n  "])),n.dimensions.hugeSpacing,Object(W.e)(n.dimensions.hugeSpacing))})),Y=Object(p.d)(H.b)(U||(U=Object(C.a)(["\n  flex-grow: 1;\n"])));function J(){return document.title="Rule34 React - Terms of Service",Object(_.jsxs)(H.a,{children:[Object(_.jsx)(V.a,{}),Object(_.jsxs)(Y,{children:[Object(_.jsx)(q.d,{children:"Terms of Service"}),Object(_.jsxs)(K,{children:[Object(_.jsx)("p",{children:"Because this website is basically just a really powerful looking glass, I do not impose any additional terms or conditions on you."}),Object(_.jsx)("p",{children:"However, terms for the technologies this app uses still apply. Therefore, you should read the following terms."}),Object(_.jsx)("a",{href:"https://policies.google.com/terms",children:"Google - Privacy & Terms"}),Object(_.jsx)("a",{href:"https://rule34.xxx/tos.php",children:"Rule34 - Terms of Serivce"}),Object(_.jsx)(q.b,{children:"If you have any questions feel free to contact me via Discord"}),Object(_.jsxs)(A.d,{href:" https://discord.gg/yyJFG5PVBZ",children:[Object(_.jsx)(I.m,{}),"Discord"]})]})]})]})}var Q,X,$=t(10),Z=t(57),ee=t(6),ne=t(19),te=t(50),re=p.d.div((function(e){var n=e.theme;return Object(p.c)(Q||(Q=Object(C.a)(["\n    display: grid;\n    place-items: center;\n    ","\n    z-index: ",";\n    padding: ",";\n    background: ",";\n  "])),ne.g,te.a.MODAL,n.dimensions.hugeSpacing,n.colors.backdrop)})),ce=Object(p.d)(G.a)((function(e){var n=e.theme;return Object(p.c)(X||(X=Object(C.a)(["\n    ","\n    max-width: ",";\n    max-height: 100vh;\n    overflow-y: auto;\n    overscroll-behavior: none;\n  "])),ne.e,n.dimensions.modalWidth)}));function oe(e){var n=e.children,t=Object(Z.a)(ee.B),r=Object(i.useCallback)((function(e){return e.stopPropagation()}),[]);return Object(_.jsx)(re,{onClick:t,title:"Close modal",children:Object(_.jsx)(ce,{onClick:r,title:"",children:n})})}var ae,ie,ue,se=t.p+"static/media/eeek.ff41d889.png",de=t(81),le=t(59),fe=p.d.div(ae||(ae=Object(C.a)(["\n  ","\n\n  > "," {\n    flex-grow: 1;\n  }\n"])),ne.f,A.f);function be(){var e=Object(Z.a)(ee.B),n=Object(Z.a)(ee.F),t=Object(i.useCallback)((function(){n(),e()}),[e,n]),r=Object(i.useCallback)((function(){e()}),[e]),c=Object(le.a)("autoPlay"),o=Object($.a)(c,2),a=o[0],u=o[1],s=Object(i.useCallback)((function(){return u(!a)}),[a,u]),d=Object(le.a)("preloadVideos"),l=Object($.a)(d,2),f=l[0],b=l[1],p=Object(i.useCallback)((function(){return b(!f)}),[f,b]),j=Object(le.a)("originals"),h=Object($.a)(j,2),O=h[0],g=h[1],m=Object(i.useCallback)((function(){return g(!O)}),[O,g]);return Object(_.jsxs)(oe,{children:[Object(_.jsx)(R.a,{src:se}),Object(_.jsx)(q.d,{children:"Wait!"}),Object(_.jsx)(q.b,{children:"You are on cellular and have some features enabled that will consume a lot of data. Are you sure this is intended?"}),Object(_.jsx)(de.a,{value:a,onToggle:s,children:"Auto-play Animations"}),Object(_.jsx)(de.a,{value:f,onToggle:p,children:"Preload Animations"}),Object(_.jsx)(de.a,{value:O,onToggle:m,children:"Load original sizes"}),Object(_.jsxs)(fe,{children:[Object(_.jsxs)(A.f,{onClick:t,children:[Object(_.jsx)(I.H,{})," Yes"]}),Object(_.jsxs)(A.f,{onClick:r,children:[Object(_.jsx)(I.q,{})," No"]})]})]})}var pe=Object(p.d)(G.a)((function(e){var n=e.theme;return Object(p.c)(ie||(ie=Object(C.a)(["\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: ",";\n    background: ",";\n    z-index: ",";\n  "])),n.colors.text,n.colors.layerBgSolid,te.a.COOKIEBAR)})),je=p.d.span(ue||(ue=Object(C.a)(["\n  height: min-content;\n"])));function he(){var e=Object(le.a)("cookies"),n=Object($.a)(e,2)[1],t=Object(i.useCallback)((function(){return n(!0)}),[n]);return Object(_.jsxs)(pe,{children:[Object(_.jsx)(je,{children:"This website uses cookies."}),Object(_.jsx)(A.f,{onClick:t,"aria-label":"Allow Cookies",title:"Accept Cookie usage",children:"Okay"})]})}var Oe,ge=t(52),me=t(3),ve=t(40),xe=t(13),ke=t(31),ye=t(99),we=t(103),Ce=t(113),Se=t(21),Ee=t(115),Re=p.d.input((function(e){var n=e.theme;return Object(p.c)(Oe||(Oe=Object(C.a)(["\n    ","\n    background-color: ",";\n    ","\n    text-align: left;\n  "])),ke.b,n.colors.backgroundColor2,ne.c)}));function Ne(){var e=Object(i.useState)(""),n=Object($.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(""),o=Object($.a)(c,2),a=o[0],u=o[1],s=Object(d.c)(xe.b),l=Object(d.b)(),f=Object(Ee.a)(),b=Object(Z.a)(ee.B),p=Object.values(s).filter((function(e){return!Object(Se.g)(e)})).reduce((function(e,n){return Object(me.a)(Object(me.a)({},e),{},Object(ge.a)({},n.name,n.modifier))}),{}),j=Object(i.useCallback)((function(){Object(ve.a)(t,a,p).then((function(){Object.keys(p).forEach((function(e){return l(Object(ee.I)(e))})),f({name:t,description:a,tags:p}),b()})).catch((function(e){return console.error("Failed to create supertag",e)}))}),[f,b,a,l,t,p]);return Object(_.jsxs)(oe,{children:[Object(_.jsx)(q.d,{children:"Create Supertag"}),Object(_.jsx)(ye.a,{}),Object(_.jsx)(Re,{type:"text",placeholder:"Name",value:t,onChange:function(e){return r(e.target.value)}}),Object(_.jsx)(Re,{type:"text",placeholder:"Description",value:a,onChange:function(e){return u(e.target.value)}}),Object(_.jsx)(we.a,{showSupertags:!1,onSubmit:f}),Object(_.jsx)(Ce.a,{}),Object(_.jsx)(A.b,{onClick:j,children:"Create"})]})}var Te,Ae=t(47),Ie=t(85),_e=t(126),Pe=t.n(_e),Le=t(56);!function(e){e.SEARCH="r34_search"}(Te||(Te={}));var De=function(e){return function(n){return function(t){var r,c=e.getState();if(Object(xe.i)(c)&&(t.type===ee.b||t.type===ee.s)){var o=Object(xe.r)(c);Object(ve.e)((r=o,{id:Te.SEARCH,payload:{page_number:r}}))}n(t)}}},Be=t(7),Fe=t.n(Be),ze=t(14),Me=t(24),Ue={rated:!1,ratedThreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20,resultsLayout:"infinite_column",pageSize:20,showMetadata:!1,showComments:!1,sort:"date:desc",themeId:"dark",autoPlay:!1,hideSeen:!1,autoscrollDelay:10,showPostDetails:!0,backends:["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"]};function We(e,n,t){return Object(Me.a)(e,(function(e){e[n]=t}))}function He(e,n){return Object(Me.a)(e,(function(e){Object.assign(e,n)}))}var Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ee.t:return We(e,n.key,n.value);case ee.u:return He(e,n.preferences);default:return e}},qe=null,Ve=function(e){return function(n){return function(){var t=Object(ze.a)(Fe.a.mark((function t(r){var c,o,a,i;return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.type===ee.t&&(qe?(clearTimeout(qe),qe=null):qe=setTimeout((function(){e.dispatch(Object(ee.J)()),qe=null}),1e4)),r.type!==ee.h){t.next=6;break}return t.next=4,ve.b();case 4:(c=t.sent)&&(o=Object(me.a)(Object(me.a)({},Ue),c),e.dispatch(Object(ee.P)(o)));case 6:r.type===ee.o&&(a=e.getState(),i=a.preferences,ve.h(i)),n(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Ke=t(12),Ye=t(33),Je=t(80),Qe=t(93),Xe=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(j.a)(this,e),this.currentBackend=void 0,this.backends=void 0,this.useFirebase=void 0,this.postLimit=void 0,this.tagLimit=void 0,this.version=void 0,this.requestRetries=void 0,this.verbose=void 0,this.parseComment=function(e){var n,t={},r=Object(Ye.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t[c.name]=c.value}}catch(o){r.e(o)}finally{r.f()}return t},this.backends="string"===typeof n?[n]:Object(Ke.a)(n),this.version=t.version||"v2",this.useFirebase=t.useFirebase||!1,this.postLimit=t.postLimit||20,this.tagLimit=t.tagLimit||20,this.requestRetries=t.requestRetries||1,this.verbose=t.verbose||!1,this.currentBackend=0,this.useFirebase&&Object(ve.d)()}return Object(h.a)(e,[{key:"useNextBackend",value:function(){this.currentBackend=(this.currentBackend+1)%this.backends.length}},{key:"getFullUrl",value:function(e,n){var t=this.backends[this.currentBackend],r=this.version,c=Object(Je.a)(n).toString();return new URL("".concat(t,"/").concat(r,"/").concat(e,"?").concat(c))}},{key:"fetchWithFailover",value:function(){var e=Object(ze.a)(Fe.a.mark((function e(n){var t,r,c,o,a=this,i=arguments;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:{},c=i.length>3&&void 0!==i[3]?i[3]:0,o=this.getFullUrl(n,Object(me.a)({},t)),e.abrupt("return",fetch(o.toString(),r).then((function(e){return!e.ok&&a.backends.length>1&&c<a.requestRetries?(a.verbose&&console.warn("Fetch failed against ".concat(o,". Status: ").concat(e.status,". Retrying against next backend.\nDetails:"),e),a.useNextBackend(),a.fetchWithFailover(n,t,r,c+1)):e})));case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchTags",value:function(){var e=Object(ze.a)(Fe.a.mark((function e(n){var t,r,c,o;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),"https://api.rule34.xxx/autocomplete.php?q=",r=null===(t=n.name)||void 0===t?void 0:t.replaceAll(" ","_"),e.next=5,fetch("".concat("https://api.rule34.xxx/autocomplete.php?q=").concat(r));case 5:if(!(c=e.sent).ok){e.next=25;break}return e.next=9,c.json();case 9:if(o=e.sent,!Array.isArray(o)){e.next=18;break}if(0!==o.length){e.next=15;break}throw new Error("No tags found");case 15:return e.abrupt("return",o.map((function(e){return{name:e.value,count:Number(e.label.substring(e.label.lastIndexOf("(")+1,e.label.length-1)),types:["ambiguous"]}})));case 16:e.next=23;break;case 18:if(!o.message){e.next=22;break}return e.abrupt("return",o);case 22:return e.abrupt("return",{message:"Invalid tag suggestions received",results:0});case 23:e.next=26;break;case 25:return e.abrupt("return",{message:"Failed to load suggestions",results:0});case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(ze.a)(Fe.a.mark((function e(n){var t,r,c,o,a,i;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchTags(n);case 3:if(t=e.sent,!Object(Qe.a)(t)){e.next=6;break}return e.abrupt("return",t);case 6:if(r=t,c=n.name,!n.supertags||!c){e.next=19;break}return e.prev=9,o=c.replaceAll("*","").toLowerCase(),e.next=13,Object(ve.c)();case 13:(a=e.sent)&&(i=Object.entries(a).filter((function(e){var n=Object($.a)(e,2),t=n[0];n[1];return t.toLowerCase().includes(o)})).map((function(e){var n=Object($.a)(e,2),t=n[0],r=n[1];return Object(me.a)({name:t},r)})),r=[].concat(Object(Ke.a)(i),Object(Ke.a)(r))),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.abrupt("return",r);case 22:return e.prev=22,e.t1=e.catch(0),console.warn("Failed to get tags:",e.t1),e.abrupt("return",[]);case 26:case"end":return e.stop()}}),e,this,[[0,22],[9,17]])})));return function(n){return e.apply(this,arguments)}}()},{key:"getPostsUrl",value:function(e,n,t){var r="".concat("https://api.rule34.xxx/index.php?page=dapi&s=post&q=index","&limit=").concat(n.toString(),"&pid=").concat(e);return""===t?r:"".concat(r,"&tags=").concat(t)}},{key:"getPosts",value:function(){var e=Object(ze.a)(Fe.a.mark((function e(n){var t,r,c,o,a,i,u,s,d,l,f,b;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:null!==(t=n.limit)&&void 0!==t?t:this.postLimit,pid:null!==(r=n.page)&&void 0!==r?r:0,tags:""},n.tags&&(c.tags+=Object(Qe.b)(n.tags)),n.score&&(c.tags+="+score:".concat(n.score)),n.sort&&"date:desc"!==n.sort&&(c.tags+="+sort:".concat(n.sort)),e.next=7,fetch(this.getPostsUrl(c.pid,c.limit,c.tags));case 7:return o=e.sent,e.next=10,o.text();case 10:a=e.sent,i=new DOMParser,u=i.parseFromString(a,"text/xml"),s=Number(u.getElementsByTagName("posts")[0].getAttribute("count")),d=[],l=Object(Ye.a)(u.getElementsByTagName("post"));try{for(l.s();!(f=l.n()).done;)b=f.value,d.push(this.parsePost(b.attributes))}catch(p){l.e(p)}finally{l.f()}return e.abrupt("return",{count:s,posts:d});case 20:return e.prev=20,e.t0=e.catch(0),console.warn("Failed to get posts:",e.t0),e.abrupt("return",{count:0,posts:[]});case 24:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(n){return e.apply(this,arguments)}}()},{key:"parsePost",value:function(e){var n=e.getNamedItem("height").value,t=e.getNamedItem("score").value,r=e.getNamedItem("file_url").value,c=e.getNamedItem("parent_id").value,o=e.getNamedItem("sample_url").value,a=e.getNamedItem("sample_width").value,i=e.getNamedItem("sample_height").value,u=e.getNamedItem("preview_url").value,s=e.getNamedItem("rating").value,d=e.getNamedItem("tags").value,l=e.getNamedItem("id").value,f=e.getNamedItem("width").value,b=e.getNamedItem("change").value,p=e.getNamedItem("md5").value,j=e.getNamedItem("creator_id").value,h=e.getNamedItem("has_children").value,O=e.getNamedItem("created_at").value,g=e.getNamedItem("status").value,m=e.getNamedItem("source").value,v=e.getNamedItem("has_notes").value,x=e.getNamedItem("has_comments").value,k=e.getNamedItem("preview_width").value,y=e.getNamedItem("preview_height").value;return{preview_url:u,sample_url:o,file_url:r,created_at:O,has_children:Boolean(h),md5:p,height:Number(n),id:Number(l),change:Number(b),creator_id:Number(j),has_notes:Boolean(v),has_comments:Boolean(x),parent_id:c?Number(c):null,preview_width:Number(k),preview_height:Number(y),rating:s,sample_height:Number(i),sample_width:Number(a),score:Number(t),source:m,status:g,tags:d.split(" ").filter((function(e,n,t){return""!==e&&t.indexOf(e)===n})),width:Number(f),comments_url:"",creator_url:"",type:r.endsWith(".webm")||r.endsWith(".mp4")?"video":r.includes(".gif")?"gif":"image"}}},{key:"getAliases",value:function(){var e=Object(ze.a)(Fe.a.mark((function e(n){var t;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchWithFailover("alias/"+n.name);case 3:return e.next=5,e.sent.json();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),console.warn("Failed to get aliases:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(ze.a)(Fe.a.mark((function e(n){var t,r,c,o,a,i,u,s,d;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n.commentsUrl);case 3:return t=e.sent,e.next=6,t.text();case 6:r=e.sent,c=new DOMParser,o=c.parseFromString(r,"text/xml"),a=[],i=Object(Ye.a)(o.getElementsByTagName("comment"));try{for(i.s();!(u=i.n()).done;)s=u.value,d=this.parseComment(s.attributes),a.push(d)}catch(l){i.e(l)}finally{i.f()}return e.abrupt("return",a);case 15:return e.prev=15,e.t0=e.catch(0),console.warn("Failed to get comments:",e.t0),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(n){return e.apply(this,arguments)}}()},{key:"getArtist",value:function(){var e=Object(ze.a)(Fe.a.mark((function e(n){var t;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchWithFailover("artist",n);case 3:return e.next=5,e.sent.json();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),console.warn("Failed to get aliases:",e.t0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()}]),e}(),$e=new Xe(["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"],{version:"v2",useFirebase:!0,requestRetries:1,verbose:!0}),Ze=function(e){return function(n){return function(){var t=Object(ze.a)(Fe.a.mark((function t(r){var c,o,a,i,u,s,d,l,f,b,p,j,h,O,g,m,v,x,k,y,w,C,S,E,R;return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.getState(),o=Object(xe.l)(c),r.type===ee.t&&"backends"===r.key&&($e.backends=r.value),"persist/REHYDRATE"===r.type&&(null===r||void 0===r||null===(a=r.payload)||void 0===a||null===(i=a.preferences)||void 0===i?void 0:i.backends)&&($e.backends=r.payload.preferences.backends),r.type!==ee.k){t.next=13;break}return u=Object(xe.b)(c),s=Object(xe.s)(c),d=Object(xe.o)(c),l=Object(xe.D)(c),t.next=11,$e.getPosts({tags:u,limit:s,page:r.pageNumber,score:">=".concat(d),sort:l});case 11:f=t.sent,e.dispatch(Object(ee.N)(f.posts,f.count,r.pageNumber));case 13:if(r.type!==ee.j||!o){t.next=23;break}return b=Object(xe.b)(c),p=Object(xe.r)(c),j=Object(xe.s)(c),h=Object(xe.o)(c),O=Object(xe.D)(c),t.next=21,$e.getPosts({tags:b,limit:j,page:p+1,score:">=".concat(h),sort:O});case 21:g=t.sent,e.dispatch(Object(ee.z)(g.posts));case 23:if(r.type!==ee.c){t.next=48;break}return m=Object(xe.b)(c),v=[],t.prev=26,t.next=29,$e.getAliases({name:r.tag.name});case 29:v=t.sent,t.next=35;break;case 32:t.prev=32,t.t0=t.catch(26),console.warn("Failed toget aliases for tag:",r.tag);case 35:if(x=v.sort((function(e,n){return n.count-e.count})).filter((function(e){return!(e.name in m)})).map((function(e){return{name:e.name,count:e.count,types:[]}})),e.dispatch(Object(ee.y)(x,r.tag.name)),Object(Se.g)(r.tag)||0!==r.tag.types.length){t.next=48;break}return t.prev=38,t.next=41,$e.getTags({name:r.tag.name,limit:1});case 41:k=t.sent,Object(Se.f)(k)||(y=k.find((function(e){return e.name===r.tag.name})))&&!Object(Se.g)(y)&&(r.tag.types=y.types,r.tag.count=y.count),t.next=48;break;case 45:t.prev=45,t.t1=t.catch(38),console.warn("Failed to get types for tag:",r.tag);case 48:if(r.type===ee.l&&fetch("https://rule34.xxx/index.php?page=post&s=vote&id=".concat(r.postId,"&type=up"),{mode:"no-cors"}).then((function(){})).catch((function(e){console.warn("Upvote rejected",e)})),r.type!==ee.i){t.next=55;break}return w=Object(xe.I)(c),t.next=53,$e.getTags({name:Object(Se.h)(r.value),limit:w,supertags:r.includeSupertags,sort:"count"});case 53:C=t.sent,Object(Se.f)(C)?e.dispatch(Object(ee.R)(C)):e.dispatch(Object(ee.Q)(C));case 55:if(r.type!==ee.g){t.next=63;break}if(!(S=Object(xe.t)(r.postId)(c))){t.next=63;break}return E="https://api.rule34.xxx/index.php?page=dapi&s=comment&q=index&json=1&post_id=".concat(S.id),t.next=61,$e.getComments({commentsUrl:E});case 61:R=t.sent,e.dispatch(Object(ee.L)(r.postId,R));case 63:n(r);case 64:case"end":return t.stop()}}),t,null,[[26,32],[38,45]])})));return function(e){return t.apply(this,arguments)}}()}},en=t(127),nn=Object(en.composeWithDevTools)(Object(Ae.applyMiddleware)(De,Ze,Ve)),tn={278:function(e){return Object(me.a)(Object(me.a)({},e),{},{reader:void 0})},279:function(e){return Object(me.a)(Object(me.a)({},e),{},{preferences:Object(me.a)(Object(me.a)({},e.preferences),{},{autoscrollDelay:10})})},285:function(e){return"electric"===e.preferences.themeId?Object(me.a)(Object(me.a)({},e),{},{preferences:Object(me.a)(Object(me.a)({},e.preferences),{},{themeId:"deepsea"})}):e},288:function(e){return Object(me.a)(Object(me.a)({},e),{},{preferences:Object(me.a)(Object(me.a)({},e.preferences),{},{showPostDetails:!0})})},289:function(e){return Object(me.a)(Object(me.a)({},e),{},{preferences:Object(me.a)(Object(me.a)({},e.preferences),{},{backends:["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"]})})},301:function(e){return Object(me.a)(Object(me.a)({},e),{},{preferences:Object(me.a)(Object(me.a)({},e.preferences),{},{backends:["https://json-api.onrender.com"]})})}},rn={posts:[],pageNumber:0,count:0,updated:0},cn=function(e,n){return Object(Me.a)(e,(function(t){t.posts=[].concat(Object(Ke.a)(e.posts),Object(Ke.a)(n)),t.pageNumber=e.pageNumber+1,t.updated=(new Date).getTime()}))},on=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(Me.a)(e,(function(e){e.posts=n,e.count=t,e.pageNumber=r,e.updated=(new Date).getTime()}))},an=function(e,n,t){return Object(Me.a)(e,(function(r){var c=e.posts.findIndex((function(e){return e.id===n}));c>=0&&(r.posts[c].comments=t)}))},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ee.b:return cn(e,n.posts);case ee.s:return on(e,n.posts,n.count,n.pageNumber);case ee.q:return an(e,n.postId,n.comments);default:return e}},sn={active:{},aliases:{}},dn=function(e,n){return Object(Me.a)(e,(function(t){t.active[n.name]=Object(me.a)(Object(me.a)({},e.active[n.name]),n)}))},ln=function(e,n,t){return Object(Me.a)(e,(function(e){e.aliases[t]=n}))},fn=function(e,n){return Object(Me.a)(e,(function(e){delete e.active[n],delete e.aliases[n]}))},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ee.c:return dn(e,n.tag);case ee.n:return fn(e,n.tagName);case ee.a:return ln(e,n.aliases,n.forTag);default:return e}},pn={isEnabled:!1,currentIndex:0,scrollIndex:null},jn=function(e,n){return Object(Me.a)(e,(function(e){e.isEnabled=!0,e.currentIndex=n}))},hn=function(e){return Object(Me.a)(e,(function(e){e.isEnabled=!1}))},On=function(e,n){return Object(Me.a)(e,(function(e){e.currentIndex=n}))},gn=function(e,n){return Object(Me.a)(e,(function(e){e.scrollIndex=n}))},mn={},vn=function(e,n){return Object(Me.a)(e,(function(t){n in e||(t[n]=Date.now())}))},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,n=arguments.length>1?arguments[1]:void 0;return n.type===ee.l?vn(e,n.postId):e},kn={openModal:null},yn=function(e,n){return Object(Me.a)(e,(function(e){e.openModal=n}))},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ee.m:return yn(e,n.modalId);case ee.d:return yn(e,null);default:return e}},Cn={entries:[],error:null,modifier:"+"},Sn=function(e,n){return Object(Me.a)(e,(function(e){e.entries=n,e.error=null}))},En=function(e,n){return Object(Me.a)(e,(function(e){e.entries=[],e.error=n}))},Rn=function(e,n){return Object(Me.a)(e,(function(e){e.modifier=n}))},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ee.v:return Sn(e,n.suggestions);case ee.w:return En(e,n.error);case ee.x:return Rn(e,n.modifier);default:return e}},Tn=Object(Ae.combineReducers)({tags:bn,results:un,preferences:Ge,fullscreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ee.e:return jn(e,n.postId);case ee.r:return On(e,n.index);case ee.f:return hn(e);case ee.p:return gn(e,n.index);default:return e}},likes:xn,suggestions:Nn,modals:wn}),An=Object(Le.c)(),In={key:"appstate",version:Object(Le.h)(An),storage:Pe.a,migrate:Object(Ie.a)(tn)},_n=Object(Ie.b)(In,Tn),Pn=Object(Ae.createStore)(_n,nn),Ln=Object(Ie.c)(Pn),Dn=u.a.lazy((function(){return t.e(8).then(t.bind(null,226))})),Bn=u.a.lazy((function(){return t.e(10).then(t.bind(null,227))})),Fn=u.a.lazy((function(){return Promise.all([t.e(5),t.e(1),t.e(7)]).then(t.bind(null,229))})),zn=u.a.lazy((function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,230))})),Mn=u.a.lazy((function(){return Promise.all([t.e(0),t.e(9)]).then(t.bind(null,228))})),Un=u.a.lazy((function(){return Promise.all([t.e(1),t.e(11)]).then(t.bind(null,231))})),Wn=Object(_.jsx)(z,{});function Hn(){return Object(_.jsx)(m,{fallback:Object(_.jsx)(L,{}),children:Object(_.jsx)(d.a,{store:Pn,children:Object(_.jsx)(b.a,{loading:Wn,persistor:Ln,children:Object(_.jsx)(Gn,{})})})})}function Gn(){var e=Object(d.c)(xe.i),n=Object(d.c)(xe.h),t=Object(d.c)(xe.H),r=Object(d.c)(xe.c),c=N.themes[r||N.defaultThemeId];return Object(_.jsxs)(p.a,{theme:c,children:[Object(_.jsx)(T,{}),Object(_.jsx)(k,{}),Object(_.jsx)(s.a,{children:Object(_.jsx)("meta",{name:"theme-color",content:c.colors.layerBgSolid})}),Object(_.jsxs)(l.a,{children:[Object(_.jsx)(i.Suspense,{fallback:Wn,children:Object(_.jsxs)(f.c,{children:[Object(_.jsx)(f.a,{exact:!0,path:v.c.ABOUT,component:Dn}),Object(_.jsx)(f.a,{exact:!0,path:v.c.PRIVACY,component:Bn}),Object(_.jsx)(f.a,{exact:!0,path:v.c.PREFERENCES,component:zn}),Object(_.jsx)(f.a,{exact:!0,path:v.c.STORIES,component:Un}),Object(_.jsx)(f.a,{exact:!0,path:v.c.TERMS,component:J}),Object(_.jsx)(f.a,{exact:!0,path:v.c.SHARE,component:Mn}),Object(_.jsx)(f.a,{path:v.c.SEARCH,component:Fn})]})}),t&&Object(_.jsx)(Ne,{}),n&&Object(_.jsx)(be,{}),!e&&Object(_.jsx)(he,{})]})]})}var qn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vn(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a({dsn:"https://1a2933d829da41fe84d4dab5fcc520ae@o955708.ingest.sentry.io/5905045",integrations:[new c.a],tracesSampleRate:1,release:Object(Le.d)(),allowUrls:[/https:\/\/kurozenzen\.github\.io(.*)/,/https:\/\/r34-json\.herokuapp\.com(.*)/],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose"],denyUrls:[/extensions\//i,/^chrome:\/\//i],beforeBreadcrumb:function(e,n){try{var t;if(null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.startsWith("ui")){var r=null===n||void 0===n?void 0:n.event.target,c=r.tagName.toLowerCase();r.innerText?e.message="".concat(c,": ").concat(r.innerText):r.id?e.message="".concat(c,": ").concat(r.id):r.getAttribute("name")?e.message="".concat(c,": ").concat(r.getAttribute("name")):r.title?e.message="".concat(c,": ").concat(r.title):r.getAttribute("aria-label")?e.message="".concat(c,": ").concat(r.getAttribute("aria-label")):r.getAttribute("data-name")&&(e.message="".concat(c,": ").concat(r.getAttribute("data-name")))}}catch(o){}return e}}),a.a.render(Object(_.jsx)(Hn,{}),document.getElementById("app-root")),function(e){if("serviceWorker"in navigator){if(new URL("/r34-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/r34-react","/service-worker.js");qn?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Vn(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Vn(n,e)}))}}()}],[[175,3,4]]]);
//# sourceMappingURL=main.aba6a4b3.chunk.js.map